import{dC as N,d as M,dD as J,dE as oe,r as E,c as q,dF as ae,dG as me,o as A,b as g,j as e,n as v,dq as a,dH as S,e as i,dI as fe,C as re,dJ as ve,dK as _e,dL as ge,t as Z,dM as Ee,f as x,dr as Ce,g as U,E as ie,dN as we,dO as De,w,dP as Fe,dQ as de,dR as ke,dS as Be,dT as Ue,k as B,F as te,i as se,_ as be,Y as ye,dn as Re,dU as $e,a as ne}from"./index-1b26c275.js";import{Y as Ie,_ as xe}from"./index-65bc27e1.js";import{Y as Me}from"./index-7a7060bc.js";import{Y as ue}from"./index-9d0e1e15.js";import"./index-cbcf2c40.js";const Oe=["image","jpeg","png","gif"],Le=({uid:m,uploadUrl:c,selectedFile:s,onSuccess:t,onError:o,onProgress:C})=>{const h=new XMLHttpRequest,D=new FormData;D.append("file",s);try{h.open("POST",c,!0)}catch{o(m,"上传失败、请求地址有误")}return h.upload.onprogress=f=>{if(f.lengthComputable){const F=f.loaded/f.total*100;C(m,F)}},h.onload=function(){if(h.status===200){const f=JSON.parse(h.responseText);f.error||f.err?o(m,f):t(m,f)}},h.onerror=function(){o(m,h.responseText)},h.send(D),{abort(){h.abort()}}};function pe(m,c,s,t){const o=t/100*Math.PI*2,C=m+s*Math.sin(o),h=c-s*Math.cos(o);return`M${m},${c} L${m},${c-s} A${s},${s} 0 ${o<Math.PI?"0":"1"},1 ${C},${h} Z`}function Se(m){return m.map(s=>({uid:N(),status:"success",...s}))}function Y(m,c){return c.findIndex(s=>m===s.uid)}function Ye(m){var t;const c=(t=m.split(".").pop())==null?void 0:t.toLowerCase(),s={word:"IconWordFileOutline",pdf:"IconPdfOutline",excel:"IconExcelFileOutline",ppt:"IconPptFileOutline",mp4:"IconVideoOutline",audio:"IconAudioFileOutline",text:"IconTxtFileOutline",png:"IconImageOutline",jpg:"IconImageOutline",video:"IconVideoOutline"};switch(c){case"jpg":case"png":case"jpeg":case"gif":return s.png;case"pdf":return s.pdf;case"mp4":case"mkv":return s.mp4;case"doc":case"docx":return s.word;case"xls":case"xlsx":return s.excel;case"ppt":case"pptx":return s.ppt;case"txt":return s.text;default:return"IconFileOutline"}}function ce(m,c){return new File([m],c,{type:m.type})}const Pe=["onMousedown","onMousemove","onMouseup"],Ae=M({__name:"crop-picture",props:{fileContent:{}},setup(m,{expose:c}){const s=m,t={isDragging:!1,startX:0,startY:0,clientX:0,clientY:0,deltaX:0,deltaY:0},o=J("image-crop"),{fileContent:C}=oe(s),h=E(),D=E(),f=E(.5),F=E(50),p=E(50),y=E(0),R=E(0),k=new Image;k.crossOrigin="Anonymous";const P=E(0),$=E(0),O=q(()=>{var u;const d=(u=C.value)==null?void 0:u.raw;return d?URL.createObjectURL(d):""});ae(()=>F.value,d=>{y.value=d/100,L()}),ae(()=>p.value,d=>{R.value=Math.max(Math.min(180,(d-50)*3.8),-180),L()});const b=()=>{var l;const d=h.value,u=d.getContext("2d");k.src=(((l=C.value)==null?void 0:l.url)||O.value)??"",k.onload=()=>{const n=k.width/k.height;$.value=300,P.value=Math.min($.value*n,700),d.width=P.value,d.height=$.value,y.value=Math.min($.value/k.height,1),f.value=y.value,F.value=f.value*100,u.drawImage(k,0,0,k.width*y.value,k.height*y.value),T()}},L=()=>{const d=h.value,u=d.getContext("2d");u.clearRect(0,0,d.width,d.height);const l=t.clientX+t.deltaX,n=t.clientY+t.deltaY,r=d.width/2,I=d.height/2,_=R.value*Math.PI/180;u.translate(r,I),u.rotate(_),u.translate(-r,-I),u.drawImage(k,l,n,k.width*y.value,k.height*y.value),u.setTransform(1,0,0,1,0,0),T()},T=()=>{const d=h.value,u=d.getContext("2d"),l=240,n=(d.width-l)/2,r=(d.height-l)/2;u.strokeStyle="rgba(255,255,255,0.5)",u.lineWidth=2,u.strokeRect(n,r,l,l),u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,0,d.width,r),u.fillRect(0,r+l,d.width,d.height-(r+l)),u.fillRect(0,r,n,l),u.fillRect(n+l,r,d.width-(n+l),l)},W=()=>{R.value=Math.min(180,15+R.value),p.value=Math.max(Math.min(50+R.value*3.8/15,100),0)},H=()=>{R.value=Math.max(-180,R.value-15),p.value=Math.max(Math.min(50+R.value*3.8/15,100),0)},V=()=>{F.value=Math.max(F.value-1,0),L()},z=()=>{F.value=Math.min(F.value+1,100),L()},G=d=>{const{clientX:u,clientY:l}=d;t.isDragging=!0,t.startX=u,t.startY=l},K=d=>{if(!t.isDragging)return;const{clientX:u,clientY:l}=d;t.deltaX=u-t.startX,t.deltaY=l-t.startY,L()},j=ge(d=>{var u=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail));u<0?V():z()},5),Q=d=>{t.isDragging=!1;const{clientX:u,clientY:l}=d,n=u-t.startX,r=l-t.startY;t.clientX+=n,t.clientY+=r,t.deltaX=0,t.deltaY=0};me(()=>{b()});const ee=async()=>{const d=h.value,u=240,l=(d.width-u)/2,n=(d.height-u)/2,r=document.createElement("canvas");r.width=u,r.height=u,r.getContext("2d").drawImage(d,l,n,u,u,0,0,u,u);let _;return await le(r).then(function(he){_=he}),{blobRaw:_,uid:C.value.uid}},le=d=>new Promise(function(u,l){d.toBlob(function(n){u(n)},"image/jpeg",.8)});return c({handleCrop:ee}),(d,u)=>{const l=fe,n=re,r=ve,I=_e;return A(),g("div",{class:v(a(o)())},[e("div",{ref_key:"canvasContainer",ref:D,class:v(a(o)("canvas-container")),onMousedown:S(G,["prevent"]),onMousemove:S(K,["prevent"]),onMouseup:S(Q,["prevent"]),onWheel:u[0]||(u[0]=S((..._)=>a(j)&&a(j)(..._),["stop"])),onMousewheel:u[1]||(u[1]=S((..._)=>a(j)&&a(j)(..._),["stop"]))},[e("canvas",{ref_key:"canvasRef",ref:h},null,512)],42,Pe),e("div",{class:v(a(o)("operate"))},[e("div",{class:v(a(o)("operate-left"))},[i(l,{onClick:S(V,["stop"])},null,8,["onClick"]),i(a(ue),{modelValue:F.value,"onUpdate:modelValue":u[2]||(u[2]=_=>F.value=_),class:v(a(o)("scale-bar"))},null,8,["modelValue","class"]),i(n,{onClick:S(z,["stop"])},null,8,["onClick"])],2),e("div",{class:v(a(o)("operate-right"))},[i(r,{onClick:H}),i(a(ue),{modelValue:p.value,"onUpdate:modelValue":u[3]||(u[3]=_=>p.value=_),class:v(a(o)("scale-bar"))},null,8,["modelValue","class"]),i(I,{onClick:W})],2)],2)],2)}}}),Ve=["onDrop","onDragover"],Xe=M({__name:"upload-draggle",props:{desc:{default:""},disabled:{type:Boolean,default:!1},accept:{default:"*"}},emits:["handleUpload","handleDraggleFiles"],setup(m,{emit:c}){const s=m,t=J("upload-draggle"),o=E(!1),C=f=>{if(s.disabled)return;o.value=!1,f.stopPropagation();const F=Array.from(f.dataTransfer.files);c("handleDraggleFiles",F)},h=()=>{s.disabled||(o.value=!0)},D=()=>{c("handleUpload")};return(f,F)=>{const p=Ee;return A(),g("div",{class:v(a(t)()),onDrop:S(C,["prevent"]),onDragover:S(h,["prevent"]),onClick:D},[i(p,{class:v(a(t)("icon"))},null,8,["class"]),e("span",{class:v(a(t)("methods"))},"单击或拖动文件到此区域进行上传",2),e("span",{class:v(a(t)("desc"))},Z(f.desc),3)],42,Ve)}}}),He={width:"14",height:"14"},ze=e("circle",{cx:"7",cy:"7",r:"7",class:"uploading-bg","fill-opacity":"0.6"},null,-1),je=["d"],Te=M({__name:"upload-file-item",props:{progress:{default:0},fileContent:{default:()=>({status:"success",name:"",uid:N()})},shape:{},avatar:{type:Boolean}},emits:["handleAbort","handleRemove","handleReUpload"],setup(m,{emit:c}){const s=m,t=J("upload-file"),{status:o,name:C,uid:h}=oe(s.fileContent),D=q(()=>Ye(C.value)),f=()=>{c("handleAbort",h.value)},F=()=>{c("handleRemove",h.value)},p=()=>{c("handleReUpload",h.value)};return(y,R)=>{const k=ie,P=we,$=De;return A(),g("div",{class:v(a(t)())},[e("div",{class:v(a(t)("main"))},[e("div",{class:v(a(t)("left"))},[(A(),x(Ce(D.value),{class:"annex-yk-icon"})),e("span",{class:v(a(t)(a(o)))},Z(a(C)),3)],2),e("div",{class:v(a(t)("right"))},[a(o)!=="uploading"?(A(),x(k,{key:0,class:"delete-yk-icon",onClick:F})):U("",!0),"success".includes(a(o))?(A(),x(P,{key:1,class:"success-yk-icon"})):U("",!0),["error","pause"].includes(a(o))?(A(),x($,{key:2,class:"re-upload-yk-icon",onClick:p})):U("",!0),["uploading"].includes(a(o))?(A(),g("div",{key:3,class:"abort-yk-icon-container",onClick:f},[(A(),g("svg",He,[ze,e("path",{d:a(pe)(7,7,7,y.progress),class:"uploading-bg"},null,8,je)]))])):U("",!0)],2)],2)],2)}}}),Ne=["src"],qe={width:"36",height:"36"},We=e("circle",{cx:"18",cy:"18",r:"18","fill-opacity":"0.5"},null,-1),Ge=["d"],Je={key:2,class:"upload-icon fail-icon"},Ke={key:3,class:"hover-icons"},Qe={key:4,class:"hover-icons"},Ze={key:5,class:"hover-icons"},el=M({__name:"upload-picture-item",props:{progress:{default:0},fileContent:{default:()=>({status:"success",name:"",uid:N(),avatar:!1})},shape:{default:"default"},avatar:{type:Boolean}},emits:["handleAbort","handleRemove","handleReUpload","handleEdit","handleReview"],setup(m,{emit:c}){const s=m,t=J("upload-picture"),{status:o,uid:C,raw:h,url:D}=oe(s.fileContent),f=E(!1),F=E(),p=q(()=>h!=null&&h.value?URL.createObjectURL(h.value):""),y=()=>{c("handleReview",C.value)},R=()=>{c("handleAbort",C.value)},k=()=>{c("handleRemove",C.value)},P=()=>{c("handleReUpload",C.value)},$=()=>{f.value=!0},O=async()=>{const{blobRaw:b,uid:L}=await F.value.handleCrop();c("handleEdit",b,L),f.value=!1};return(b,L)=>{const T=Fe,W=de,H=ie,V=ke,z=Be;return A(),g("div",{class:v(a(t)([b.shape]))},[p.value||a(D)?(A(),g("img",{key:0,src:a(D)||p.value,alt:""},null,8,Ne)):U("",!0),e("div",{class:v(a(t)("overlay-hover",[a(o)]))},null,2),a(o)==="uploading"?(A(),g("div",{key:1,class:"upload-icon uploading-icons",onClick:R},[(A(),g("svg",qe,[We,e("path",{d:a(pe)(18,18,18,b.progress),class:"progress-path"},null,8,Ge)]))])):U("",!0),["error","pause"].includes(a(o))?(A(),g("div",Je,[i(T)])):U("",!0),["error","pause"].includes(a(o))?(A(),g("div",Ke,[i(W,{onClick:P}),i(H,{onClick:k})])):U("",!0),a(o)==="success"&&!b.avatar?(A(),g("div",Qe,[i(V,{onClick:y}),i(H,{onClick:k})])):U("",!0),a(o)==="success"&&b.avatar?(A(),g("div",Ze,[i(z,{onClick:$}),i(H,{onClick:k})])):U("",!0),f.value?(A(),x(a(Ie),{key:6,modelValue:f.value,"onUpdate:modelValue":L[0]||(L[0]=G=>f.value=G),scrollable:!1,title:"图片裁剪",size:"small",onOnSubmit:O},{default:w(()=>[i(Ae,{ref_key:"cropRef",ref:F,"file-content":b.fileContent},null,8,["file-content"])]),_:1},8,["modelValue"])):U("",!0)],2)}}}),ll=["accept","multiple"],tl=e("div",null,"上传文件",-1),nl={class:"picture-desc"},ol=M({name:"YkUpload",__name:"upload",props:{accept:{default:"*"},maxSize:{default:3*1024*1024},multiple:{type:Boolean,default:!0},limit:{default:0},uploadUrl:{default:""},shape:{default:"default"},fileList:{default:()=>[]},desc:{default:""},avatar:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},emits:["handleSuccess","handleDelete","handleError","handleBeforeUpload"],setup(m,{emit:c}){const s=m,t=J("upload"),o=E(!1),C=E(!1),h=E(),D=E(!1),f=Ue({name:"",url:"",uid:N(),status:"uploading"}),F=E(0),p=E(Se(s.fileList)),y=E(),R=new Map,k=q(()=>p.value.length),P=q(()=>p.value.map(n=>n.raw?URL.createObjectURL(n.raw):n.url)),$=q(()=>!!s.limit&&k.value>=s.limit);o.value=Oe.some(l=>s.accept.includes(l))||s.avatar;const{proxy:O}=Re(),b=async l=>{const n=l==null?void 0:l.name;if(!n){O.$message.error("文件上传失败，请重新选择文件");return}const r=N();p.value.push({name:n,status:"uploading",raw:l,uid:r});const I={uid:r,uploadUrl:s.uploadUrl,selectedFile:l,fileName:n,onSuccess:T,onError:H,onProgress:W};R.set(r,Le(I))},L=l=>{p.value=[];const n=l==null?void 0:l.name;if(!n){O.$message.error("文件上传失败，请重新选择文件");return}const r=N();f.name=n,f.raw=l,f.uid=r,D.value=!0},T=(l,n)=>{O.$message.success("上传成功");const r=Y(l,p.value);p.value[r].status="success",c("handleSuccess",n,p.value)},W=(l,n)=>{const r=Y(l,p.value);p.value[r].progress=n},H=(l,n)=>{O.$message.error(n||"上传失败");const r=Y(l,p.value);p.value[r].status="error",c("handleError",n,p.value)},V=async()=>{var l;$.value||(l=y.value)==null||l.click()},z=l=>(c("handleBeforeUpload",l),s.maxSize&&l.size>s.maxSize?(O.$message.error("超出限制大小，请压缩后上传"),!1):s.limit&&s.limit<=k.value?(O.$message.error("数量超出限制"),!1):!0),G=l=>{const n=Array.from(l.target.files);if(n.length){if(s.avatar){z(n[0]),L(n[0]);return}n.forEach(r=>{const I=z(r);r&&I&&b(r)}),l.target.value=""}},K=l=>{const n=Y(l,p.value),r=R.get(l);r!=null&&r.abort&&(r.abort(),p.value[n].status="pause",O.$message.error("用户中断上传"))},j=l=>{p.value.splice(Y(l,p.value),1),c("handleDelete",p.value),O.$message.success("已删除")},Q=l=>{const n=Y(l,p.value),r=p.value[n].raw;p.value.splice(n,1),b(r)},ee=(l,n)=>{const r=Y(n,p.value),I=p.value[r].name;p.value.splice(Y(n,p.value),1);const _=ce(l,I);b(_)},le=l=>{const n=Y(l,p.value);F.value=n,C.value=!0},d=l=>{l.forEach(n=>{b(n)})},u=async()=>{const{blobRaw:l}=await h.value.handleCrop(),n=ce(l,f.name);b(n),D.value=!1};return(l,n)=>{const r=be,I=ye;return A(),g(te,null,[e("div",{class:v(a(t)())},[e("input",{ref_key:"inputRef",ref:y,style:{display:"none"},accept:l.accept,multiple:l.multiple,type:"file",onChange:G,onClick:n[0]||(n[0]=S(()=>{},["stop"]))},null,40,ll),o.value?U("",!0):(A(),g("div",{key:0,class:v(a(t)("files"))},[l.draggable?U("",!0):(A(),g("div",{key:0,class:v(a(t)("file"))},[i(r,{class:v(a(t)("file-button")),type:"secondary",disabled:$.value,onClick:V},{default:w(()=>[i(a(de),{class:v(a(t)("file-icon"))},null,8,["class"]),tl]),_:1},8,["class","disabled"]),i(I,{type:"third"},{default:w(()=>[B(Z(l.desc),1)]),_:1})],2)),l.draggable?(A(),g("div",{key:1,class:v(a(t)("draggle"))},[i(Xe,{desc:l.desc,disabled:$.value,accept:l.accept,onHandleUpload:V,onHandleDraggleFiles:d},null,8,["desc","disabled","accept"])],2)):U("",!0),p.value.length?(A(),g("div",{key:2,class:v(a(t)("file-list"))},[(A(!0),g(te,null,se(p.value,_=>(A(),x(Te,{key:_.uid,"file-content":_,progress:_.progress,onHandleRemove:j,onHandleReUpload:Q,onHandleAbort:K},null,8,["file-content","progress"]))),128))],2)):U("",!0)],2)),o.value&&!l.draggable?(A(),g("div",{key:1,class:v(a(t)("pictures"))},[(A(!0),g(te,null,se(p.value,_=>(A(),g("span",{class:v(a(t)("picture"))},[(A(),x(el,{key:_.uid,"file-content":_,"is-picture":o.value,progress:_.progress,shape:l.shape,avatar:l.avatar,onHandleRemove:j,onHandleReUpload:Q,onHandleAbort:K,onHandleEdit:ee,onHandleReview:le},null,8,["file-content","is-picture","progress","shape","avatar"]))],2))),256)),!(l.avatar&&k.value)&&!$.value?(A(),g("div",{key:0,class:v([a(t)("picture-button",{disabled:$.value},[l.shape])]),onClick:V},[e("div",nl,[i(a(re),{class:v(a(t)("picture-button-icon"))},null,8,["class"]),l.desc?(A(),g("span",{key:0,class:v(a(t)("picture-button-desc"))},Z(l.desc),3)):U("",!0)])],2)):U("",!0)],2)):U("",!0)],2),i(a(Me),{visible:C.value,"onUpdate:visible":n[1]||(n[1]=_=>C.value=_),current:F.value,"onUpdate:current":n[2]||(n[2]=_=>F.value=_),"src-list":P.value,"is-render":!1,width:"300",height:"200",fit:"cover"},null,8,["visible","current","src-list"]),D.value?(A(),x(a(xe),{key:0,modelValue:D.value,"onUpdate:modelValue":n[3]||(n[3]=_=>D.value=_),scrollable:!1,title:"图片裁剪",size:"small",onOnSubmit:u},{default:w(()=>[i(Ae,{ref_key:"cropRef",ref:h,"file-content":f},null,8,["file-content"])]),_:1},8,["modelValue"])):U("",!0)],64)}}}),al=$e(ol),X=al;const sl="https://www.huohuo90.com:3005/upload",ul=M({__name:"upload-primary",setup(m){const c=E([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]);return(s,t)=>{const o=X;return A(),x(o,{"upload-url":sl,"file-list":c.value,desc:"上传内容要求","max-size":0},null,8,["file-list"])}}}),cl="https://www.huohuo90.com:3005/upload",rl=M({__name:"upload-single-file",setup(m){const c=E([]);return(s,t)=>{const o=X;return A(),x(o,{"upload-url":cl,multiple:!1,"file-list":c.value,desc:"仅允许逐个上传文件"},null,8,["file-list"])}}}),il="https://www.huohuo90.com:3005/upload",dl=M({__name:"upload-limit",setup(m){const c=E([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]);return(s,t)=>{const o=X;return A(),x(o,{"upload-url":il,"file-list":c.value,limit:3,desc:"限制上传三个文件，此demo演示上传失败"},null,8,["file-list"])}}}),pl="https://www.huohuo90.com:3005/upload",Al=M({__name:"upload-picture",setup(m){const c=E([]);return(s,t)=>{const o=X;return A(),g("div",null,[i(o,{"upload-url":pl,"file-list":c.value,accept:"image/*"},null,8,["file-list"])])}}}),hl="https://www.huohuo90.com:3005/upload",ml=M({__name:"upload-picture-circle",setup(m){const c=E([{name:"默认图片",url:"https://www.huohuo90.com:3005/logo/yike.png"}]);return(s,t)=>{const o=X;return A(),g("div",null,[i(o,{"upload-url":hl,"file-list":c.value,shape:"circle",accept:"image/*",desc:"上传图片",limit:2},null,8,["file-list"])])}}}),fl="https://www.huohuo90.com:3005/upload",vl=M({__name:"upload-avatar",setup(m){const c=E([{name:"默认图片",url:"http://chat.finecoder.cn:3976/upload/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230801002828.jpg"}]);return(s,t)=>{const o=X;return A(),g("div",null,[i(o,{"upload-url":fl,"file-list":c.value,shape:"circle",accept:"image/*",avatar:!0},null,8,["file-list"])])}}}),_l="https://www.huohuo90.com:3005/upload",gl=M({__name:"upload-draggle",setup(m){const c=E([]);return(s,t)=>{const o=X;return A(),g("div",null,[i(o,{"upload-url":_l,"file-list":c.value,accept:"*",desc:"上传内容要求",draggable:!0},null,8,["file-list"])])}}}),El="https://www.huohuo90.com:3005/upload",Cl=M({__name:"upload-callback",setup(m){const c=E([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]),s=(h,D)=>{console.log("🚀 ~ file: upload-callback.vue:20 ~ handleSuccess ~ currentList:",D),console.log("🚀 ~ file: upload-callback.vue:20 ~ handleSuccess ~ res:",h)},t=(h,D)=>{console.log("🚀 ~ file: upload-callback.vue:28 ~ handleError ~ currentList:",D),console.log("🚀 ~ file: upload-callback.vue:28 ~ handleError ~ error:",h)},o=h=>{console.log("🚀 ~ file: upload-callback.vue:36 ~ handleBeforeUpload ~ file:",h)},C=h=>{console.log("🚀 ~ file: upload-callback.vue:43 ~ handleDelete ~ currentList:",h)};return(h,D)=>{const f=X;return A(),x(f,{"upload-url":El,"file-list":c.value,desc:"上传内容要求","max-size":0,onHandleSuccess:s,onHandleError:t,onHandleBeforeUpload:o,onHandleDelete:C},null,8,["file-list"])}}}),wl=e("p",null,"文件列表上传",-1),Dl=e("p",null,[B("通过 "),e("code",null,"multiple"),B(" 控制是否能够上传多文件，默认为 true")],-1),Fl=e("p",null,[B("通过 "),e("code",null,"limit"),B(" 控制文件上传数量限制")],-1),kl=e("p",null,[B("通过 "),e("code",null,"accept"),B(" 判断是否仅上传图片，若接受对象包含 "),e("code",null,"image"),B(" 、 "),e("code",null,"png"),B(" 、 "),e("code",null,"jpg/jpeg"),B(" ，则采用图片列表上传 UI")],-1),Bl=e("p",null,[B("通过 "),e("code",null,"limit"),B(" 控制图片上限、通过 "),e("code",null,"shape"),B(" 修改列表风格")],-1),Ul=e("p",null,[B("通过传入 "),e("code",null,"avatar"),B(" 进行头像上传，只允许上传一张图片且上传后允许通过裁剪重新上传")],-1),bl=e("p",null,[B("通过传入 "),e("code",null,"draggle"),B(" 将 UI 变更为拖拽区，文件列表与常规文件一致，允许通过拖拽上传文件")],-1),yl=e("p",null,"目前支持上传前、上传成功、上传失败、删除文件四个钩子",-1),Rl=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"accept"),e("td",null,"接受文件类型"),e("td",null,"accept"),e("td",null,"*")]),e("tr",null,[e("td",null,"maxSize"),e("td",null,"文件大小限制"),e("td",null,"number"),e("td",null,"3*1024*1024(3M)")]),e("tr",null,[e("td",null,"multiple"),e("td",null,"是否允许多文件上传"),e("td",null,"boolean"),e("td",null,"true")]),e("tr",null,[e("td",null,"limit"),e("td",null,"控制文件上传数量"),e("td",null,"number"),e("td",null,"0")]),e("tr",null,[e("td",null,"shape"),e("td",null,"图片列表形状"),e("td",null,"'default' | 'circle'"),e("td",null,"'default'")]),e("tr",null,[e("td",null,"uploadUrl"),e("td",null,"文件上传路径"),e("td",null,"string"),e("td",null,"''")]),e("tr",null,[e("td",null,"fileList"),e("td",null,"当前文件列表"),e("td",null,[e("code",null,"{name:'file-name',url:'url'}[]")]),e("td",null,"[]")]),e("tr",null,[e("td",null,"desc"),e("td",null,"文件上传提示"),e("td",null,"string"),e("td",null,"''")]),e("tr",null,[e("td",null,"avatar"),e("td",null,"是否上传头像"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"draggable"),e("td",null,"是否采用拖拽上传交互"),e("td",null,"boolean"),e("td",null,"false")])])])],-1),$l=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"方法"),e("th",null,"描述"),e("th",null,"出参类型")])]),e("tbody",null,[e("tr",null,[e("td",null,"handleSuccess"),e("td",null,"成功回调"),e("td",null,"(res:response,currentList:File[])")]),e("tr",null,[e("td",null,"handleDelete"),e("td",null,"删除回调"),e("td",null,"(currentList:File[])")]),e("tr",null,[e("td",null,"handleError"),e("td",null,"错误回调"),e("td",null,"(err:response,currentList:File[])")]),e("tr",null,[e("td",null,"handleBeforeUpload"),e("td",null,"上传前回调"),e("td",null,"(file:File)")])])])],-1),Sl={__name:"doc",setup(m){return(c,s)=>{const t=ne("yk-title"),o=ne("yk-snippet"),C=ne("DocPage");return A(),x(C,null,{default:w(()=>[i(t,{level:2,id:"YkUpload文件上传"},{default:w(()=>[B("YkUpload 文件上传")]),_:1}),i(o,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%3Amax-size%3D%220%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(ul)]),desc:w(()=>[wl]),_:1}),i(o,{title:"单文件上传",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Amultiple%3D%22false%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%BB%85%E5%85%81%E8%AE%B8%E9%80%90%E4%B8%AA%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2F192.168.1.207%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(rl)]),desc:w(()=>[Dl]),_:1}),i(o,{title:"文件数量限制",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%3Alimit%3D%223%22%0A%20%20%20%20desc%3D%22%E9%99%90%E5%88%B6%E4%B8%8A%E4%BC%A0%E4%B8%89%E4%B8%AA%E6%96%87%E4%BB%B6%EF%BC%8C%E6%AD%A4demo%E6%BC%94%E7%A4%BA%E4%B8%8A%E4%BC%A0%E5%A4%B1%E8%B4%A5%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2F192.168.1.207%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(dl)]),desc:w(()=>[Fl]),_:1}),i(o,{title:"图片上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(Al)]),desc:w(()=>[kl]),_:1}),i(o,{title:"图片列表样式及限制数量",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20shape%3D%22circle%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%22%0A%20%20%20%20%20%20%3Alimit%3D%222%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.foder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(ml)]),desc:w(()=>[Bl]),_:1}),i(o,{title:"头像上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20shape%3D%22circle%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%20%20%3Aavatar%3D%22true%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%20%20url%3A%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload%2F%25E5%25BE%25AE%25E4%25BF%25A1%25E5%259B%25BE%25E7%2589%2587_20230801002828.jpg'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(vl)]),desc:w(()=>[Ul]),_:1}),i(o,{title:"拖拽上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20accept%3D%22*%22%0A%20%20%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%20%20%3Adraggable%3D%22true%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(gl)]),desc:w(()=>[bl]),_:1}),i(o,{title:"回调函数",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%3Amax-size%3D%220%22%0A%20%20%20%20%40handle-success%3D%22handleSuccess%22%0A%20%20%20%20%40handle-error%3D%22handleError%22%0A%20%20%20%20%40handle-before-upload%3D%22handleBeforeUpload%22%0A%20%20%20%20%40handle-delete%3D%22handleDelete%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0Aconst%20handleSuccess%20%3D%20(res%2C%20currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A20%20~%20handleSuccess%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%20%20console.log('%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A20%20~%20handleSuccess%20~%20res%3A'%2C%20res)%0A%7D%0Aconst%20handleError%20%3D%20(error%2C%20currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A28%20~%20handleError%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%20%20console.log('%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A28%20~%20handleError%20~%20error%3A'%2C%20error)%0A%7D%0Aconst%20handleBeforeUpload%20%3D%20(file)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A36%20~%20handleBeforeUpload%20~%20file%3A'%2C%0A%20%20%20%20file%2C%0A%20%20)%0A%7D%0Aconst%20handleDelete%20%3D%20(currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A43%20~%20handleDelete%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%7D%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(Cl)]),desc:w(()=>[yl]),_:1}),i(t,{level:3,id:"API"},{default:w(()=>[B("API")]),_:1}),Rl,i(t,{level:3,id:"钩子"},{default:w(()=>[B("钩子")]),_:1}),$l]),_:1})}}};export{Sl as default};
