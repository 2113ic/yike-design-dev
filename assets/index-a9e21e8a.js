import{d as z,r as x,e7 as R,c as r,dF as j,o as h,b as w,j as g,n as V,dZ as _,t as F,dD as q,dE as E,e2 as I,q as K,dT as N,f as S,w as D,F as Y,i as T,dq as C,k as U,dY as L,dr as O,dU as G}from"./index-cf5518e5.js";import{u as P}from"./use-form-item-c6d47f35.js";const M=Symbol("checkboxGroupContextKey"),A=t=>typeof t=="boolean"?t:!!t.toString(),B=t=>Array.isArray(t),Z=t=>typeof t>"u",H=t=>{if(typeof t=="number")return t;switch(t){case"s":return 4;case"m":return 8;case"l":return 16;case"xl":return 24;default:return 16}},J=t=>t=="vertical"?"column":"row";const Q=["disabled","checked"],u="yk-checkbox",W=z({name:"YkCheckbox",__name:"checkbox",props:{defaultChecked:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean},value:{}},emits:["change","update:checked"],setup(t,{emit:m}){const e=t,f=x(),l=R(M,void 0),v=r(()=>!!l),d=x(e.defaultChecked),c=r(()=>{const n=e.checked??d.value;return v.value?l==null?void 0:l.calcVal:n}),p=r(()=>v.value&&B(c.value)?c.value.includes(e.value):A(c.value)),o=r(()=>(l==null?void 0:l.disabled)||e.disabled||!d.value&&(l==null?void 0:l.isMax)),k=n=>{const{checked:i}=n.target;d.value=i;let b;if(v.value&&B(c.value)){const a=new Set(c.value);i?a.add(e.value??!0):a.delete(e.value??!0),b=Array.from(a),l==null||l.handleChange(b)}else m("update:checked",i),m("change",i)};j(()=>e.checked,n=>{d.value=Z(n)?!1:A(n),f.value&&(f.value.checked=d.value)});const $=n=>{n.stopPropagation()},y=r(()=>({[`${u}-wrap`]:!0,[`${u}--active`]:p.value&&!e.indeterminate,[`${u}--normal`]:!p.value&&!o.value&&!e.indeterminate,[`${u}--indeterminate`]:e.indeterminate,"indeterminate--checked":e.indeterminate,"yk-disabled":o.value,[`${u}--common`]:!e.indeterminate,"yk-show-shadow":p.value||e.indeterminate}));return(n,i)=>(h(),w("label",{class:V([u,o.value&&`${u}--disabled`])},[g("input",{ref_key:"checkboxRef",ref:f,type:"checkbox",class:V([`${u}-target`]),disabled:o.value,checked:p.value,onChange:k,onClick:$},null,42,Q),g("div",{class:V(y.value)},null,2),g("div",null,[_(n.$slots,"default",{},()=>[g("span",null,F(n.value),1)])])],2))}}),X=z({name:"YkCheckboxGroup",__name:"checkbox-group",props:{modelValue:{},defaultValue:{default:()=>[]},disabled:{type:Boolean,default:!1},max:{},tag:{default:"div"},direction:{default:"horizontal"},options:{default:()=>[]},gap:{default:"l"},size:{default:"l"}},emits:["change","update:modelValue"],setup(t,{emit:m}){const e=t,f=q("checkbox-group"),{size:l,disabled:v}=E(e),{mergedSize:d,mergedDisabled:c}=P({size:l,disabled:v}),p=I(),o=x(e.defaultValue),k=r(()=>B(e.modelValue)?e.modelValue:o.value),$=a=>{o.value=a,m("update:modelValue",a),m("change",a)},y=r(()=>e.options.map(a=>typeof a=="number"||typeof a=="string"?{value:a,label:a}:a)),n=r(()=>e.max===void 0?!1:k.value.length>=e.max),i=r(()=>Array.isArray(e.gap)?{rowGap:`${e.gap[1]}px`,columnGap:`${e.gap[0]}px`}:{gap:`${H(e.gap)}px`}),b=r(()=>({flexDirection:J(e.direction),...i.value}));return K(M,N({name:"YkCheckboxGroup",calcVal:k,disabled:c,handleChange:$,isMax:n})),(a,ae)=>(h(),S(O(a.tag),{class:V(C(f)([a.direction,C(d)])),style:L(b.value)},{default:D(()=>[y.value.length?(h(!0),w(Y,{key:0},T(y.value,s=>(h(),S(C(ee),{key:s.value,checked:o.value.includes(s.value),value:s.value,disabled:s.disabled,indeterminate:s.indeterminate},{default:D(()=>[C(p).label?_(a.$slots,"label",{key:0,data:s}):(h(),w(Y,{key:1},[U(F((s==null?void 0:s.label)??s.value),1)],64))]),_:2},1032,["checked","value","disabled","indeterminate"]))),128)):_(a.$slots,"default",{key:1})]),_:3},8,["class","style"]))}}),ee=G(W),ne=G(X);export{ee as Y,ne as a};
