import{d as z,r as w,ae as R,c as r,a4 as j,o as h,b as x,e as g,n as V,X as _,t as F,a2 as I,a3 as K,ab as N,p as P,a7 as E,f as S,w as A,F as D,h as L,Z as C,j as O,y as T,P as U,z as G}from"./index-d235c6f2.js";import{u as X}from"./use-form-item-bd41a5ee.js";const M=Symbol("checkboxGroupContextKey"),Y=t=>typeof t=="boolean"?t:!!t.toString(),B=t=>Array.isArray(t),Z=t=>typeof t>"u",q=t=>{if(typeof t=="number")return t;switch(t){case"s":return 4;case"m":return 8;case"l":return 16;case"xl":return 24;default:return 16}},H=t=>t=="vertical"?"column":"row",J=["disabled","checked"],u="yk-checkbox",Q=z({name:"YkCheckbox",__name:"checkbox",props:{defaultChecked:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean},value:{}},emits:["change","update:checked"],setup(t,{emit:m}){const e=t,f=w(),l=R(M,void 0),v=r(()=>!!l),c=w(e.defaultChecked),d=r(()=>{const n=e.checked??c.value;return v.value?l==null?void 0:l.calcVal:n}),p=r(()=>v.value&&B(d.value)?d.value.includes(e.value):Y(d.value)),o=r(()=>(l==null?void 0:l.disabled)||e.disabled||!c.value&&(l==null?void 0:l.isMax)),k=n=>{const{checked:i}=n.target;c.value=i;let b;if(v.value&&B(d.value)){const a=new Set(d.value);i?a.add(e.value??!0):a.delete(e.value??!0),b=Array.from(a),l==null||l.handleChange(b)}else m("update:checked",i),m("change",i)};j(()=>e.checked,n=>{c.value=Z(n)?!1:Y(n),f.value&&(f.value.checked=c.value)});const $=n=>{n.stopPropagation()},y=r(()=>({[`${u}-wrap`]:!0,[`${u}--active`]:p.value&&!e.indeterminate,[`${u}--normal`]:!p.value&&!o.value&&!e.indeterminate,[`${u}--indeterminate`]:e.indeterminate,"indeterminate--checked":e.indeterminate,"yk-disabled":o.value,[`${u}--common`]:!e.indeterminate,"yk-show-shadow":p.value||e.indeterminate}));return(n,i)=>(h(),x("label",{class:V([u,o.value&&`${u}--disabled`])},[g("input",{ref_key:"checkboxRef",ref:f,type:"checkbox",class:V([`${u}-target`]),disabled:o.value,checked:p.value,onChange:k,onClick:$},null,42,J),g("div",{class:V(y.value)},null,2),g("div",null,[_(n.$slots,"default",{},()=>[g("span",null,F(n.value),1)])])],2))}}),W=z({name:"YkCheckboxGroup",__name:"checkbox-group",props:{modelValue:{},defaultValue:{default:()=>[]},disabled:{type:Boolean,default:!1},max:{},tag:{default:"div"},direction:{default:"horizontal"},options:{default:()=>[]},gap:{default:"l"},size:{default:"l"}},emits:["change","update:modelValue"],setup(t,{emit:m}){const e=t,f=I("checkbox-group"),{size:l,disabled:v}=K(e),{mergedSize:c,mergedDisabled:d}=X({size:l,disabled:v}),p=N(),o=w(e.defaultValue),k=r(()=>B(e.modelValue)?e.modelValue:o.value),$=a=>{o.value=a,m("update:modelValue",a),m("change",a)},y=r(()=>e.options.map(a=>typeof a=="number"||typeof a=="string"?{value:a,label:a}:a)),n=r(()=>e.max===void 0?!1:k.value.length>=e.max),i=r(()=>Array.isArray(e.gap)?{rowGap:`${e.gap[1]}px`,columnGap:`${e.gap[0]}px`}:{gap:`${q(e.gap)}px`}),b=r(()=>({flexDirection:H(e.direction),...i.value}));return P(M,E({name:"YkCheckboxGroup",calcVal:k,disabled:d,handleChange:$,isMax:n})),(a,ae)=>(h(),S(U(a.tag),{class:V(C(f)([a.direction,C(c)])),style:T(b.value)},{default:A(()=>[y.value.length?(h(!0),x(D,{key:0},L(y.value,s=>(h(),S(C(ee),{key:s.value,checked:o.value.includes(s.value),value:s.value,disabled:s.disabled,indeterminate:s.indeterminate},{default:A(()=>[C(p).label?_(a.$slots,"label",{key:0,data:s}):(h(),x(D,{key:1},[O(F((s==null?void 0:s.label)??s.value),1)],64))]),_:2},1032,["checked","value","disabled","indeterminate"]))),128)):_(a.$slots,"default",{key:1})]),_:3},8,["class","style"]))}}),ee=G(Q),ne=G(W);export{ee as Y,ne as a};
