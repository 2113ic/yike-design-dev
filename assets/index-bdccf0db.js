import{a7 as F,a4 as R,ab as Z,r as b,d as V,am as x,T as $,V as U,a2 as W,a3 as X,c as q,aA as G,o as C,b as k,i as P,a5 as S,Z as i,w as J,W as K,n as T,y as Q,g as z,X as ee,j as te,t as oe,$ as ne,a0 as ae,z as le}from"./index-d235c6f2.js";function se(a){return a.match(/[A-Z]?[a-z]+|[0-9]+/g)||[]}function M(a){const e=a.parentNode;return e&&e.nodeType==11&&e instanceof ShadowRoot&&e.host?e.host:e&&e instanceof HTMLElement&&e.assignedSlot?e.assignedSlot.parentNode:e}function re(a){if(window.getComputedStyle(a).display=="none")return;let e=M(a),o=!1;for(;!o;){const n=e.nodeType==1?window.getComputedStyle(e):{};if(n.display=="none")return;if(e==document)o=!0;else if(e!=document.body&&e!=document.documentElement&&n.overflow!="visible")break;e=M(e)}return e}function ue(a,e,o,n){let t;$(()=>{t=new IntersectionObserver(([r])=>{e(r)},{...o,root:n?re(a.value):null}),a.value&&t.observe(a.value)}),U(()=>{t.unobserve(a.value),t.disconnect()})}function ie(a){const e=b(["",""]);let o=0;return ue(a,n=>{const{left:t,right:r,top:c,bottom:u}=n.intersectionRect,{left:d,right:v,top:m,bottom:h}=n.rootBounds;if(!(n.time-o<100)){if(o=n.time,n.intersectionRatio==1||n.intersectionRatio==0){e.value[0]="",e.value[1]="";return}t<=d&&r>=v||t==0&&r==0?e.value[0]="":t<=d?e.value[0]="left":r>=v?e.value[0]="right":e.value[0]="",u>=h&&c<=m||c==0&&u==0?e.value[1]="":u>=h?e.value[1]="bottom":c<=m?e.value[1]="top":e.value[1]=""}},{threshold:[0,.25,.5,.75,1]},!0),e}function ce(a,e){const o=ie(a),n=se(e),t=F([...n]);return R(o,()=>{switch(n[0]){case"top":case"bottom":o.value[1]=="top"?t[0]="bottom":o.value[1]=="bottom"&&(t[0]="top");break;case"left":case"right":o.value[0]=="left"?t[0]="right":o.value[0]=="right"&&(t[0]="left");break}switch(n[1]){case"Left":case"Right":o.value[0]=="left"?t[1]="Left":o.value[0]=="right"&&(t[1]="Right");break;case"Top":case"Bottom":o.value[1]=="top"?t[1]="Top":o.value[1]=="bottom"&&(t[1]="Bottom");break}},{deep:!0,immediate:!0}),t}function fe(){const a=Z();return V((o,n)=>()=>{const t=a.default?a.default():[x("span",{},"tooltip")];return t.length>1&&console.error(new Error("Component can only have one root element, but you have used multiple root elements")),t[0]=x(t[0],{...o,...n.attrs}),t},{inheritAttrs:!1})}const pe=V({name:"YkTooltip",__name:"tooltip",props:{title:{default:"hello"},open:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},placement:{default:"top"},trigger:{default:"hover"},animation:{default:"show"},openDelay:{default:0},closeDelay:{default:300},overlayClass:{default:""},overlayStyle:{default:()=>({})},autoAdjustOverflow:{type:Boolean,default:!1},destroyTooltipOnHide:{type:Boolean,default:!1},zIndex:{}},emits:["update:open","openChange"],setup(a,{emit:e}){const o=a,n=W("tooltip"),t=fe(),{arrow:r,placement:c,trigger:u,animation:d,openDelay:v,closeDelay:m,overlayClass:h,overlayStyle:A,autoAdjustOverflow:B,destroyTooltipOnHide:I}=X(o),D=b(),N=b(),s=b(o.open);R(()=>o.open,l=>s.value=l),R(s,l=>e("update:open",l));const O=n("content"),j=ce(N,c.value),E=q(()=>{const l=[O,h.value,B.value||c.value];return B.value&&l.push(j.join("")),l}),_=(()=>{let l;return function(f){if(clearTimeout(l),u.value==="none"||s.value===f)return;l=setTimeout(()=>{s.value=f,e("openChange",s.value)},(f?v:m).value)}})(),p=()=>_(!0),g=()=>_(!1);G(D,()=>{s.value&&g()});function w(l){y("hover")&&(l.type==="mouseenter"?p():g())}function H(){y("click")&&(s.value?g():p())}function L(){y("contextmenu")&&p()}function Y(){y("focus")&&p()}function y(l){return u.value===l||u.value.includes(l)}return(l,f)=>(C(),k("div",{ref_key:"tooltipRef",ref:D,class:T(i(n)())},[P(i(t),{onFocus:Y,onMouseenter:w,onMouseleave:w,onClick:S(H,["stop"]),onContextmenu:S(L,["prevent"])},null,8,["onClick","onContextmenu"]),P(ae,{name:i(d)},{default:J(()=>[i(I)&&!s.value?z("",!0):K((C(),k("div",{key:0,ref_key:"popperRef",ref:N,class:T(E.value),style:Q([i(A),{zIndex:l.zIndex}]),onClick:f[0]||(f[0]=S(()=>{},["stop"])),onMouseenter:p,onMouseleave:w},[i(r)?(C(),k("div",{key:0,class:T(i(n)("arrow"))},null,2)):z("",!0),ee(l.$slots,"content",{},()=>[te(oe(l.title),1)])],38)),[[ne,s.value]])]),_:3},8,["name"])],2))}}),de=le(pe),he=de;export{de as Y,he as _,fe as u};
