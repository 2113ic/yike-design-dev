import{d as z,r as $,ed as M,c as r,dL as R,o as h,b as w,j as g,n as V,e3 as _,t as F,dJ as j,dK as I,e8 as L,q as N,dZ as q,f as S,w as A,F as D,i as E,dw as C,k as J,e2 as O,dx as P,d_ as G}from"./index-5311f08a.js";import{u as T}from"./use-form-item-e0c7d766.js";const K=Symbol("checkboxGroupContextKey"),Y=t=>typeof t=="boolean"?t:!!t.toString(),B=t=>Array.isArray(t),U=t=>typeof t>"u",Z=t=>{if(typeof t=="number")return t;switch(t){case"s":return 4;case"m":return 8;case"l":return 16;case"xl":return 24;default:return 16}},H=t=>t=="vertical"?"column":"row";const Q=["disabled","checked"],u="yk-checkbox",W=z({name:"YkCheckbox",__name:"checkbox",props:{defaultChecked:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean},value:{}},emits:["change","update:checked"],setup(t,{emit:m}){const e=t,f=$(),l=M(K,void 0),v=r(()=>!!l),d=$(e.defaultChecked),c=r(()=>{const n=e.checked??d.value;return v.value?l==null?void 0:l.calcVal:n}),p=r(()=>v.value&&B(c.value)?c.value.includes(e.value):Y(c.value)),o=r(()=>(l==null?void 0:l.disabled)||e.disabled||!d.value&&(l==null?void 0:l.isMax)),k=n=>{const{checked:i}=n.target;d.value=i;let b;if(v.value&&B(c.value)){const a=new Set(c.value);i?a.add(e.value??!0):a.delete(e.value??!0),b=Array.from(a),l==null||l.handleChange(b)}else m("update:checked",i),m("change",i)};R(()=>e.checked,n=>{d.value=U(n)?!1:Y(n),f.value&&(f.value.checked=d.value)});const x=n=>{n.stopPropagation()},y=r(()=>({[`${u}-wrap`]:!0,[`${u}--active`]:p.value&&!e.indeterminate,[`${u}--normal`]:!p.value&&!o.value&&!e.indeterminate,[`${u}--indeterminate`]:e.indeterminate,"indeterminate--checked":e.indeterminate,"yk-disabled":o.value,[`${u}--common`]:!e.indeterminate,"yk-show-shadow":p.value||e.indeterminate}));return(n,i)=>(h(),w("label",{class:V([u,o.value&&`${u}--disabled`])},[g("input",{ref_key:"checkboxRef",ref:f,type:"checkbox",class:V([`${u}-target`]),disabled:o.value,checked:p.value,onChange:k,onClick:x},null,42,Q),g("div",{class:V(y.value)},null,2),g("div",null,[_(n.$slots,"default",{},()=>[g("span",null,F(n.value),1)])])],2))}}),X=z({name:"YkCheckboxGroup",__name:"checkbox-group",props:{modelValue:{},defaultValue:{default:()=>[]},disabled:{type:Boolean,default:!1},max:{},tag:{default:"div"},direction:{default:"horizontal"},options:{default:()=>[]},gap:{default:"l"},size:{default:"l"}},emits:["change","update:modelValue"],setup(t,{emit:m}){const e=t,f=j("checkbox-group"),{size:l,disabled:v}=I(e),{mergedSize:d,mergedDisabled:c}=T({size:l,disabled:v}),p=L(),o=$(e.defaultValue),k=r(()=>B(e.modelValue)?e.modelValue:o.value),x=a=>{o.value=a,m("update:modelValue",a),m("change",a)},y=r(()=>e.options.map(a=>typeof a=="number"||typeof a=="string"?{value:a,label:a}:a)),n=r(()=>e.max===void 0?!1:k.value.length>=e.max),i=r(()=>Array.isArray(e.gap)?{rowGap:`${e.gap[1]}px`,columnGap:`${e.gap[0]}px`}:{gap:`${Z(e.gap)}px`}),b=r(()=>({flexDirection:H(e.direction),...i.value}));return N(K,q({name:"YkCheckboxGroup",calcVal:k,disabled:c,handleChange:x,isMax:n})),(a,ae)=>(h(),S(P(a.tag),{class:V(C(f)([a.direction,C(d)])),style:O(b.value)},{default:A(()=>[y.value.length?(h(!0),w(D,{key:0},E(y.value,s=>(h(),S(C(ee),{key:s.value,checked:o.value.includes(s.value),value:s.value,disabled:s.disabled,indeterminate:s.indeterminate},{default:A(()=>[C(p).label?_(a.$slots,"label",{key:0,data:s}):(h(),w(D,{key:1},[J(F((s==null?void 0:s.label)??s.value),1)],64))]),_:2},1032,["checked","value","disabled","indeterminate"]))),128)):_(a.$slots,"default",{key:1})]),_:3},8,["class","style"]))}}),ee=G(W),ne=G(X);export{ee as Y,ne as a};
