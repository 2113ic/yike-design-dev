import{a1 as j,d as $,a2 as W,a3 as ne,r as _,c as T,a4 as se,T as fe,o as p,b as g,e,n as v,Z as t,a5 as L,i,a6 as me,t as J,f as R,P as ve,g as b,w,a7 as ge,m as _e,j as k,Y as Ee,F as ae,h as ue,N as we,z as Ce,a as oe}from"./index-59dc8a0f.js";import{Y as ce}from"./index-9e0176b0.js";import{I as De,b as Fe,c as ie,a as ke}from"./index-56f076e3.js";import{_ as de}from"./index-f548702f.js";import{a as be,b as Ue,I as ye,_ as Be}from"./index-f063d8ae.js";import{_ as G}from"./index-3386eeb9.js";import{_ as Re}from"./index-dc8f4427.js";import{_ as $e}from"./index-7e727ef2.js";import{Y as xe,_ as Ie}from"./index-14bd7399.js";import{Y as Me}from"./index-f6e0b42a.js";import"./index-cdfd09ab.js";import"./index-4b8b59a7.js";import"./index-b4d00658.js";const Le=["image","jpeg","png","gif"],Ye=({uid:f,uploadUrl:r,selectedFile:u,onSuccess:a,onError:o,onProgress:E})=>{const A=new XMLHttpRequest,C=new FormData;C.append("file",u);try{A.open("POST",r,!0)}catch{o(f,"上传失败、请求地址有误")}return A.upload.onprogress=m=>{if(m.lengthComputable){const D=m.loaded/m.total*100;E(f,D)}},A.onload=function(){if(A.status===200){const m=JSON.parse(A.responseText);m.error||m.err?o(f,m):a(f,m)}},A.onerror=function(){o(f,A.responseText)},A.send(C),{abort(){A.abort()}}};function pe(f,r,u,a){const o=a/100*Math.PI*2,E=f+u*Math.sin(o),A=r-u*Math.cos(o);return`M${f},${r} L${f},${r-u} A${u},${u} 0 ${o<Math.PI?"0":"1"},1 ${E},${A} Z`}function Se(f){return f.map(u=>({uid:j(),status:"success",...u}))}function S(f,r){return r.findIndex(u=>f===u.uid)}function Oe(f){var a;const r=(a=f.split(".").pop())==null?void 0:a.toLowerCase(),u={word:"IconWordFileOutline",pdf:"IconPdfOutline",excel:"IconExcelFileOutline",ppt:"IconPptFileOutline",mp4:"IconVideoOutline",audio:"IconAudioFileOutline",text:"IconTxtFileOutline",png:"IconImageOutline",jpg:"IconImageOutline",video:"IconVideoOutline"};switch(r){case"jpg":case"png":case"jpeg":case"gif":return u.png;case"pdf":return u.pdf;case"mp4":case"mkv":return u.mp4;case"doc":case"docx":return u.word;case"xls":case"xlsx":return u.excel;case"ppt":case"pptx":return u.ppt;case"txt":return u.text;default:return"IconFileOutline"}}function re(f,r){return new File([f],r,{type:f.type})}const Pe=["onMousedown","onMousemove","onMouseup"],Ae=$({__name:"crop-picture",props:{fileContent:{}},setup(f,{expose:r}){const u=f,a={isDragging:!1,startX:0,startY:0,clientX:0,clientY:0,deltaX:0,deltaY:0},o=W("image-crop"),{fileContent:E}=ne(u),A=_(),C=_(),m=_(.5),D=_(50),h=_(50),y=_(0),B=_(0),F=new Image;F.crossOrigin="Anonymous";const V=_(0),x=_(0),I=T(()=>{var c;const d=(c=E.value)==null?void 0:c.raw;return d?URL.createObjectURL(d):""});se(()=>D.value,d=>{y.value=d/100,M()}),se(()=>h.value,d=>{B.value=Math.max(Math.min(180,(d-50)*3.8),-180),M()});const U=()=>{var l;const d=A.value,c=d.getContext("2d");F.src=(((l=E.value)==null?void 0:l.url)||I.value)??"",F.onload=()=>{const n=F.width/F.height;x.value=300,V.value=Math.min(x.value*n,700),d.width=V.value,d.height=x.value,y.value=Math.min(x.value/F.height,1),m.value=y.value,D.value=m.value*100,c.drawImage(F,0,0,F.width*y.value,F.height*y.value),X()}},M=()=>{const d=A.value,c=d.getContext("2d");c.clearRect(0,0,d.width,d.height);const l=a.clientX+a.deltaX,n=a.clientY+a.deltaY,s=d.width/2,Y=d.height/2,H=B.value*Math.PI/180;c.translate(s,Y),c.rotate(H),c.translate(-s,-Y),c.drawImage(F,l,n,F.width*y.value,F.height*y.value),c.setTransform(1,0,0,1,0,0),X()},X=()=>{const d=A.value,c=d.getContext("2d"),l=240,n=(d.width-l)/2,s=(d.height-l)/2;c.strokeStyle="rgba(255,255,255,0.5)",c.lineWidth=2,c.strokeRect(n,s,l,l),c.fillStyle="rgba(0, 0, 0, 0.5)",c.fillRect(0,0,d.width,s),c.fillRect(0,s+l,d.width,d.height-(s+l)),c.fillRect(0,s,n,l),c.fillRect(n+l,s,d.width-(n+l),l)},K=()=>{B.value=Math.min(180,15+B.value),h.value=Math.max(Math.min(50+B.value*3.8/15,100),0)},Q=()=>{B.value=Math.max(-180,B.value-15),h.value=Math.max(Math.min(50+B.value*3.8/15,100),0)},z=()=>{D.value=Math.max(D.value-1,0),M()},N=()=>{D.value=Math.min(D.value+1,100),M()},ee=d=>{const{clientX:c,clientY:l}=d;a.isDragging=!0,a.startX=c,a.startY=l},q=d=>{if(!a.isDragging)return;const{clientX:c,clientY:l}=d;a.deltaX=c-a.startX,a.deltaY=l-a.startY,M()},P=me(d=>{var c=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail));c<0?z():N()},5),Z=d=>{a.isDragging=!1;const{clientX:c,clientY:l}=d,n=c-a.startX,s=l-a.startY;a.clientX+=n,a.clientY+=s,a.deltaX=0,a.deltaY=0};fe(()=>{U()});const le=async()=>{const d=A.value,c=240,l=(d.width-c)/2,n=(d.height-c)/2,s=document.createElement("canvas");s.width=c,s.height=c,s.getContext("2d").drawImage(d,l,n,c,c,0,0,c,c);let H;return await te(s).then(function(he){H=he}),{blobRaw:H,uid:E.value.uid}},te=d=>new Promise(function(c,l){d.toBlob(function(n){c(n)},"image/jpeg",.8)});return r({handleCrop:le}),(d,c)=>(p(),g("div",{class:v(t(o)())},[e("div",{ref_key:"canvasContainer",ref:C,class:v(t(o)("canvas-container")),onMousedown:L(ee,["prevent"]),onMousemove:L(q,["prevent"]),onMouseup:L(Z,["prevent"]),onWheel:c[0]||(c[0]=L((...l)=>t(P)&&t(P)(...l),["stop"])),onMousewheel:c[1]||(c[1]=L((...l)=>t(P)&&t(P)(...l),["stop"]))},[e("canvas",{ref_key:"canvasRef",ref:A},null,512)],42,Pe),e("div",{class:v(t(o)("operate"))},[e("div",{class:v(t(o)("operate-left"))},[i(t(De),{onClick:L(z,["stop"])},null,8,["onClick"]),i(t(ce),{modelValue:D.value,"onUpdate:modelValue":c[2]||(c[2]=l=>D.value=l),class:v(t(o)("scale-bar"))},null,8,["modelValue","class"]),i(t(de),{onClick:L(N,["stop"])},null,8,["onClick"])],2),e("div",{class:v(t(o)("operate-right"))},[i(t(be),{onClick:Q}),i(t(ce),{modelValue:h.value,"onUpdate:modelValue":c[3]||(c[3]=l=>h.value=l),class:v(t(o)("scale-bar"))},null,8,["modelValue","class"]),i(t(Ue),{onClick:K})],2)],2)],2))}}),Ve=["onDrop","onDragover"],Xe=$({__name:"upload-draggle",props:{desc:{default:""},disabled:{type:Boolean,default:!1},accept:{default:"*"}},emits:["handleUpload","handleDraggleFiles"],setup(f,{emit:r}){const u=f,a=W("upload-draggle"),o=_(!1),E=m=>{if(u.disabled)return;o.value=!1,m.stopPropagation();const D=Array.from(m.dataTransfer.files);r("handleDraggleFiles",D)},A=()=>{u.disabled||(o.value=!0)},C=()=>{r("handleUpload")};return(m,D)=>(p(),g("div",{class:v(t(a)()),onDrop:L(E,["prevent"]),onDragover:L(A,["prevent"]),onClick:C},[i(t(Fe),{class:v(t(a)("icon"))},null,8,["class"]),e("span",{class:v(t(a)("methods"))},"单击或拖动文件到此区域进行上传",2),e("span",{class:v(t(a)("desc"))},J(m.desc),3)],42,Ve))}}),ze={width:"14",height:"14"},He=e("circle",{cx:"7",cy:"7",r:"7",class:"uploading-bg","fill-opacity":"0.6"},null,-1),je=["d"],Te=$({__name:"upload-file-item",props:{progress:{default:0},fileContent:{default:()=>({status:"success",name:"",uid:j()})},shape:{},avatar:{type:Boolean}},emits:["handleAbort","handleRemove","handleReUpload"],setup(f,{emit:r}){const u=f,a=W("upload-file"),{status:o,name:E,uid:A}=ne(u.fileContent),C=T(()=>Oe(E.value)),m=()=>{r("handleAbort",A.value)},D=()=>{r("handleRemove",A.value)},h=()=>{r("handleReUpload",A.value)};return(y,B)=>(p(),g("div",{class:v(t(a)())},[e("div",{class:v(t(a)("main"))},[e("div",{class:v(t(a)("left"))},[(p(),R(ve(C.value),{class:"annex-yk-icon"})),e("span",{class:v(t(a)(t(o)))},J(t(E)),3)],2),e("div",{class:v(t(a)("right"))},[t(o)!=="uploading"?(p(),R(t(G),{key:0,class:"delete-yk-icon",onClick:D})):b("",!0),"success".includes(t(o))?(p(),R(t(Re),{key:1,class:"success-yk-icon"})):b("",!0),["error","pause"].includes(t(o))?(p(),R(t($e),{key:2,class:"re-upload-yk-icon",onClick:h})):b("",!0),["uploading"].includes(t(o))?(p(),g("div",{key:3,class:"abort-yk-icon-container",onClick:m},[(p(),g("svg",ze,[He,e("path",{d:t(pe)(7,7,7,y.progress),class:"uploading-bg"},null,8,je)]))])):b("",!0)],2)],2)],2))}}),Ne=["src"],We={width:"36",height:"36"},qe=e("circle",{cx:"18",cy:"18",r:"18","fill-opacity":"0.5"},null,-1),Ze=["d"],Ge={key:2,class:"upload-icon fail-icon"},Je={key:3,class:"hover-icons"},Ke={key:4,class:"hover-icons"},Qe={key:5,class:"hover-icons"},el=$({__name:"upload-picture-item",props:{progress:{default:0},fileContent:{default:()=>({status:"success",name:"",uid:j(),avatar:!1})},shape:{default:"default"},avatar:{type:Boolean}},emits:["handleAbort","handleRemove","handleReUpload","handleEdit","handleReview"],setup(f,{emit:r}){const u=f,a=W("upload-picture"),{status:o,uid:E,raw:A,url:C}=ne(u.fileContent),m=_(!1),D=_(),h=T(()=>A!=null&&A.value?URL.createObjectURL(A.value):""),y=()=>{r("handleReview",E.value)},B=()=>{r("handleAbort",E.value)},F=()=>{r("handleRemove",E.value)},V=()=>{r("handleReUpload",E.value)},x=()=>{m.value=!0},I=async()=>{const{blobRaw:U,uid:M}=await D.value.handleCrop();r("handleEdit",U,M),m.value=!1};return(U,M)=>(p(),g("div",{class:v(t(a)([U.shape]))},[h.value||t(C)?(p(),g("img",{key:0,src:t(C)||h.value,alt:""},null,8,Ne)):b("",!0),e("div",{class:v(t(a)("overlay-hover",[t(o)]))},null,2),t(o)==="uploading"?(p(),g("div",{key:1,class:"upload-icon uploading-icons",onClick:B},[(p(),g("svg",We,[qe,e("path",{d:t(pe)(18,18,18,U.progress),class:"progress-path"},null,8,Ze)]))])):b("",!0),["error","pause"].includes(t(o))?(p(),g("div",Ge,[i(t(ye))])):b("",!0),["error","pause"].includes(t(o))?(p(),g("div",Je,[i(t(ie),{onClick:V}),i(t(G),{onClick:F})])):b("",!0),t(o)==="success"&&!U.avatar?(p(),g("div",Ke,[i(t(Be),{onClick:y}),i(t(G),{onClick:F})])):b("",!0),t(o)==="success"&&U.avatar?(p(),g("div",Qe,[i(t(ke),{onClick:x}),i(t(G),{onClick:F})])):b("",!0),m.value?(p(),R(t(xe),{key:6,modelValue:m.value,"onUpdate:modelValue":M[0]||(M[0]=X=>m.value=X),scrollable:!1,title:"图片裁剪",size:"small",onOnSubmit:I},{default:w(()=>[i(Ae,{ref_key:"cropRef",ref:D,"file-content":U.fileContent},null,8,["file-content"])]),_:1},8,["modelValue"])):b("",!0)],2))}}),ll=["accept","multiple"],tl=e("div",null,"上传文件",-1),al={class:"picture-desc"},ol=$({name:"YkUpload",__name:"upload",props:{accept:{default:"*"},maxSize:{default:3*1024*1024},multiple:{type:Boolean,default:!0},limit:{default:0},uploadUrl:{default:""},shape:{default:"default"},fileList:{default:()=>[]},desc:{default:""},avatar:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},emits:["handleSuccess","handleDelete","handleError","handleBeforeUpload"],setup(f,{emit:r}){const u=f,a=W("upload"),o=_(!1),E=_(!1),A=_(),C=_(!1),m=ge({name:"",url:"",uid:j(),status:"uploading"}),D=_(0),h=_(Se(u.fileList)),y=_(),B=new Map,F=T(()=>h.value.length),V=T(()=>h.value.map(n=>n.raw?URL.createObjectURL(n.raw):n.url)),x=T(()=>!!u.limit&&F.value>=u.limit);o.value=Le.some(l=>u.accept.includes(l))||u.avatar;const{proxy:I}=we(),U=async l=>{const n=l==null?void 0:l.name;if(!n){I.$message.error("文件上传失败，请重新选择文件");return}const s=j();h.value.push({name:n,status:"uploading",raw:l,uid:s});const Y={uid:s,uploadUrl:u.uploadUrl,selectedFile:l,fileName:n,onSuccess:X,onError:Q,onProgress:K};B.set(s,Ye(Y))},M=l=>{h.value=[];const n=l==null?void 0:l.name;if(!n){I.$message.error("文件上传失败，请重新选择文件");return}const s=j();m.name=n,m.raw=l,m.uid=s,C.value=!0},X=(l,n)=>{I.$message.success("上传成功");const s=S(l,h.value);h.value[s].status="success",r("handleSuccess",n,h.value)},K=(l,n)=>{const s=S(l,h.value);h.value[s].progress=n},Q=(l,n)=>{I.$message.error(n||"上传失败");const s=S(l,h.value);h.value[s].status="error",r("handleError",n,h.value)},z=async()=>{var l;x.value||(l=y.value)==null||l.click()},N=l=>(r("handleBeforeUpload",l),u.maxSize&&l.size>u.maxSize?(I.$message.error("超出限制大小，请压缩后上传"),!1):u.limit&&u.limit<=F.value?(I.$message.error("数量超出限制"),!1):!0),ee=l=>{const n=Array.from(l.target.files);if(n.length){if(u.avatar){N(n[0]),M(n[0]);return}n.forEach(s=>{const Y=N(s);s&&Y&&U(s)}),l.target.value=""}},q=l=>{const n=S(l,h.value),s=B.get(l);s!=null&&s.abort&&(s.abort(),h.value[n].status="pause",I.$message.error("用户中断上传"))},P=l=>{h.value.splice(S(l,h.value),1),r("handleDelete",h.value),I.$message.success("已删除")},Z=l=>{const n=S(l,h.value),s=h.value[n].raw;h.value.splice(n,1),U(s)},le=(l,n)=>{const s=S(n,h.value),Y=h.value[s].name;h.value.splice(S(n,h.value),1);const H=re(l,Y);U(H)},te=l=>{const n=S(l,h.value);D.value=n,E.value=!0},d=l=>{l.forEach(n=>{U(n)})},c=async()=>{const{blobRaw:l}=await A.value.handleCrop(),n=re(l,m.name);U(n),C.value=!1};return(l,n)=>(p(),g(ae,null,[e("div",{class:v(t(a)())},[e("input",{ref_key:"inputRef",ref:y,style:{display:"none"},accept:l.accept,multiple:l.multiple,type:"file",onChange:ee,onClick:n[0]||(n[0]=L(()=>{},["stop"]))},null,40,ll),o.value?b("",!0):(p(),g("div",{key:0,class:v(t(a)("files"))},[l.draggable?b("",!0):(p(),g("div",{key:0,class:v(t(a)("file"))},[i(t(_e),{class:v(t(a)("file-button")),type:"secondary",disabled:x.value,onClick:z},{default:w(()=>[i(t(ie),{class:v(t(a)("file-icon"))},null,8,["class"]),tl]),_:1},8,["class","disabled"]),i(t(Ee),{type:"third"},{default:w(()=>[k(J(l.desc),1)]),_:1})],2)),l.draggable?(p(),g("div",{key:1,class:v(t(a)("draggle"))},[i(Xe,{desc:l.desc,disabled:x.value,accept:l.accept,onHandleUpload:z,onHandleDraggleFiles:d},null,8,["desc","disabled","accept"])],2)):b("",!0),h.value.length?(p(),g("div",{key:2,class:v(t(a)("file-list"))},[(p(!0),g(ae,null,ue(h.value,s=>(p(),R(Te,{key:s.uid,"file-content":s,progress:s.progress,onHandleRemove:P,onHandleReUpload:Z,onHandleAbort:q},null,8,["file-content","progress"]))),128))],2)):b("",!0)],2)),o.value&&!l.draggable?(p(),g("div",{key:1,class:v(t(a)("pictures"))},[(p(!0),g(ae,null,ue(h.value,s=>(p(),g("span",{class:v(t(a)("picture"))},[(p(),R(el,{key:s.uid,"file-content":s,"is-picture":o.value,progress:s.progress,shape:l.shape,avatar:l.avatar,onHandleRemove:P,onHandleReUpload:Z,onHandleAbort:q,onHandleEdit:le,onHandleReview:te},null,8,["file-content","is-picture","progress","shape","avatar"]))],2))),256)),!(l.avatar&&F.value)&&!x.value?(p(),g("div",{key:0,class:v([t(a)("picture-button",{disabled:x.value},[l.shape])]),onClick:z},[e("div",al,[i(t(de),{class:v(t(a)("picture-button-icon"))},null,8,["class"]),l.desc?(p(),g("span",{key:0,class:v(t(a)("picture-button-desc"))},J(l.desc),3)):b("",!0)])],2)):b("",!0)],2)):b("",!0)],2),i(t(Me),{visible:E.value,"onUpdate:visible":n[1]||(n[1]=s=>E.value=s),current:D.value,"onUpdate:current":n[2]||(n[2]=s=>D.value=s),"src-list":V.value,"is-render":!1,width:"300",height:"200",fit:"cover"},null,8,["visible","current","src-list"]),C.value?(p(),R(t(Ie),{key:0,modelValue:C.value,"onUpdate:modelValue":n[3]||(n[3]=s=>C.value=s),scrollable:!1,title:"图片裁剪",size:"small",onOnSubmit:c},{default:w(()=>[i(Ae,{ref_key:"cropRef",ref:A,"file-content":m},null,8,["file-content"])]),_:1},8,["modelValue"])):b("",!0)],64))}}),nl=Ce(ol),O=nl,sl="https://www.huohuo90.com:3005/upload",ul=$({__name:"upload-primary",setup(f){const r=_([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]);return(u,a)=>{const o=O;return p(),R(o,{"upload-url":sl,"file-list":r.value,desc:"上传内容要求","max-size":0},null,8,["file-list"])}}}),cl="https://www.huohuo90.com:3005/upload",rl=$({__name:"upload-single-file",setup(f){const r=_([]);return(u,a)=>{const o=O;return p(),R(o,{"upload-url":cl,multiple:!1,"file-list":r.value,desc:"仅允许逐个上传文件"},null,8,["file-list"])}}}),il="https://www.huohuo90.com:3005/upload",dl=$({__name:"upload-limit",setup(f){const r=_([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]);return(u,a)=>{const o=O;return p(),R(o,{"upload-url":il,"file-list":r.value,limit:3,desc:"限制上传三个文件，此demo演示上传失败"},null,8,["file-list"])}}}),pl="https://www.huohuo90.com:3005/upload",Al=$({__name:"upload-picture",setup(f){const r=_([]);return(u,a)=>{const o=O;return p(),g("div",null,[i(o,{"upload-url":pl,"file-list":r.value,accept:"image/*"},null,8,["file-list"])])}}}),hl="https://www.huohuo90.com:3005/upload",fl=$({__name:"upload-picture-circle",setup(f){const r=_([{name:"默认图片",url:"https://www.huohuo90.com:3005/logo/yike.png"}]);return(u,a)=>{const o=O;return p(),g("div",null,[i(o,{"upload-url":hl,"file-list":r.value,shape:"circle",accept:"image/*",desc:"上传图片",limit:2},null,8,["file-list"])])}}}),ml="https://www.huohuo90.com:3005/upload",vl=$({__name:"upload-avatar",setup(f){const r=_([{name:"默认图片",url:"https://www.huohuo90.com:3005/logo/dafei.jpg"}]);return(u,a)=>{const o=O;return p(),g("div",null,[i(o,{"upload-url":ml,"file-list":r.value,shape:"circle",accept:"image/*",avatar:!0},null,8,["file-list"])])}}}),gl="https://www.huohuo90.com:3005/upload",_l=$({__name:"upload-draggle",setup(f){const r=_([]);return(u,a)=>{const o=O;return p(),g("div",null,[i(o,{"upload-url":gl,"file-list":r.value,accept:"*",desc:"上传内容要求",draggable:!0},null,8,["file-list"])])}}}),El="https://www.huohuo90.com:3005/upload",wl=$({__name:"upload-callback",setup(f){const r=_([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]),u=(A,C)=>{console.log("🚀 ~ file: upload-callback.vue:20 ~ handleSuccess ~ currentList:",C),console.log("🚀 ~ file: upload-callback.vue:20 ~ handleSuccess ~ res:",A)},a=(A,C)=>{console.log("🚀 ~ file: upload-callback.vue:28 ~ handleError ~ currentList:",C),console.log("🚀 ~ file: upload-callback.vue:28 ~ handleError ~ error:",A)},o=A=>{console.log("🚀 ~ file: upload-callback.vue:36 ~ handleBeforeUpload ~ file:",A)},E=A=>{console.log("🚀 ~ file: upload-callback.vue:43 ~ handleDelete ~ currentList:",A)};return(A,C)=>{const m=O;return p(),R(m,{"upload-url":El,"file-list":r.value,desc:"上传内容要求","max-size":0,onHandleSuccess:u,onHandleError:a,onHandleBeforeUpload:o,onHandleDelete:E},null,8,["file-list"])}}}),Cl=e("p",null,"文件列表上传",-1),Dl=e("p",null,[k("通过 "),e("code",null,"multiple"),k(" 控制是否能够上传多文件，默认为 true")],-1),Fl=e("p",null,[k("通过 "),e("code",null,"limit"),k(" 控制文件上传数量限制")],-1),kl=e("p",null,[k("通过 "),e("code",null,"accept"),k(" 判断是否仅上传图片，若接受对象包含 "),e("code",null,"image"),k(" 、 "),e("code",null,"png"),k(" 、 "),e("code",null,"jpg/jpeg"),k(" ，则采用图片列表上传 UI")],-1),bl=e("p",null,[k("通过 "),e("code",null,"limit"),k(" 控制图片上限、通过 "),e("code",null,"shape"),k(" 修改列表风格")],-1),Ul=e("p",null,[k("通过传入 "),e("code",null,"avatar"),k(" 进行头像上传，只允许上传一张图片且上传后允许通过裁剪重新上传")],-1),yl=e("p",null,[k("通过传入 "),e("code",null,"draggle"),k(" 将 UI 变更为拖拽区，文件列表与常规文件一致，允许通过拖拽上传文件")],-1),Bl=e("p",null,"目前支持上传前、上传成功、上传失败、删除文件四个钩子",-1),Rl=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"accept"),e("td",null,"接受文件类型"),e("td",null,"accept"),e("td",null,"*")]),e("tr",null,[e("td",null,"maxSize"),e("td",null,"文件大小限制"),e("td",null,"number"),e("td",null,"3*1024*1024(3M)")]),e("tr",null,[e("td",null,"multiple"),e("td",null,"是否允许多文件上传"),e("td",null,"boolean"),e("td",null,"true")]),e("tr",null,[e("td",null,"limit"),e("td",null,"控制文件上传数量"),e("td",null,"number"),e("td",null,"0")]),e("tr",null,[e("td",null,"shape"),e("td",null,"图片列表形状"),e("td",null,"'default' | 'circle'"),e("td",null,"'default'")]),e("tr",null,[e("td",null,"uploadUrl"),e("td",null,"文件上传路径"),e("td",null,"string"),e("td",null,"''")]),e("tr",null,[e("td",null,"fileList"),e("td",null,"当前文件列表"),e("td",null,[e("code",null,"{name:'file-name',url:'url'}[]")]),e("td",null,"[]")]),e("tr",null,[e("td",null,"desc"),e("td",null,"文件上传提示"),e("td",null,"string"),e("td",null,"''")]),e("tr",null,[e("td",null,"avatar"),e("td",null,"是否上传头像"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"draggable"),e("td",null,"是否采用拖拽上传交互"),e("td",null,"boolean"),e("td",null,"false")])])])],-1),$l=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"方法"),e("th",null,"描述"),e("th",null,"出参类型")])]),e("tbody",null,[e("tr",null,[e("td",null,"handleSuccess"),e("td",null,"成功回调"),e("td",null,"(res:response,currentList:File[])")]),e("tr",null,[e("td",null,"handleDelete"),e("td",null,"删除回调"),e("td",null,"(currentList:File[])")]),e("tr",null,[e("td",null,"handleError"),e("td",null,"错误回调"),e("td",null,"(err:response,currentList:File[])")]),e("tr",null,[e("td",null,"handleBeforeUpload"),e("td",null,"上传前回调"),e("td",null,"(file:File)")])])])],-1),Tl={__name:"doc",setup(f){return(r,u)=>{const a=oe("yk-title"),o=oe("yk-snippet"),E=oe("DocPage");return p(),R(E,null,{default:w(()=>[i(a,{level:2,id:"YkUpload-文件上传"},{default:w(()=>[k("YkUpload 文件上传")]),_:1}),i(o,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%3Amax-size%3D%220%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(ul)]),desc:w(()=>[Cl]),_:1}),i(o,{title:"单文件上传",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Amultiple%3D%22false%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%BB%85%E5%85%81%E8%AE%B8%E9%80%90%E4%B8%AA%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2F192.168.1.207%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(rl)]),desc:w(()=>[Dl]),_:1}),i(o,{title:"文件数量限制",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%3Alimit%3D%223%22%0A%20%20%20%20desc%3D%22%E9%99%90%E5%88%B6%E4%B8%8A%E4%BC%A0%E4%B8%89%E4%B8%AA%E6%96%87%E4%BB%B6%EF%BC%8C%E6%AD%A4demo%E6%BC%94%E7%A4%BA%E4%B8%8A%E4%BC%A0%E5%A4%B1%E8%B4%A5%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2F192.168.1.207%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(dl)]),desc:w(()=>[Fl]),_:1}),i(o,{title:"图片上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(Al)]),desc:w(()=>[kl]),_:1}),i(o,{title:"图片列表样式及限制数量",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20shape%3D%22circle%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%22%0A%20%20%20%20%20%20%3Alimit%3D%222%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.foder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(fl)]),desc:w(()=>[bl]),_:1}),i(o,{title:"头像上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20shape%3D%22circle%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%20%20%3Aavatar%3D%22true%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fdafei.jpg'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(vl)]),desc:w(()=>[Ul]),_:1}),i(o,{title:"拖拽上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20accept%3D%22*%22%0A%20%20%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%20%20%3Adraggable%3D%22true%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(_l)]),desc:w(()=>[yl]),_:1}),i(o,{title:"回调函数",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%3Amax-size%3D%220%22%0A%20%20%20%20%40handle-success%3D%22handleSuccess%22%0A%20%20%20%20%40handle-error%3D%22handleError%22%0A%20%20%20%20%40handle-before-upload%3D%22handleBeforeUpload%22%0A%20%20%20%20%40handle-delete%3D%22handleDelete%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0Aconst%20handleSuccess%20%3D%20(res%2C%20currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A20%20~%20handleSuccess%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%20%20console.log('%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A20%20~%20handleSuccess%20~%20res%3A'%2C%20res)%0A%7D%0Aconst%20handleError%20%3D%20(error%2C%20currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A28%20~%20handleError%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%20%20console.log('%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A28%20~%20handleError%20~%20error%3A'%2C%20error)%0A%7D%0Aconst%20handleBeforeUpload%20%3D%20(file)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A36%20~%20handleBeforeUpload%20~%20file%3A'%2C%0A%20%20%20%20file%2C%0A%20%20)%0A%7D%0Aconst%20handleDelete%20%3D%20(currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A43%20~%20handleDelete%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%7D%0A%3C%2Fscript%3E%0A"},{demo:w(()=>[i(wl)]),desc:w(()=>[Bl]),_:1}),i(a,{level:3,id:"API"},{default:w(()=>[k("API")]),_:1}),Rl,i(a,{level:3,id:"钩子"},{default:w(()=>[k("钩子")]),_:1}),$l]),_:1})}}};export{Tl as default};
