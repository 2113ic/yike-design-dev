import{dG as D,eH as B,dT as z,dF as w,e2 as H,r as b,d as M,eh as C,dD as I,c as V,o as v,b as m,e as k,w as _,e4 as A,n as g,dY as j,dH as h,dq as y,g as S,dZ as P,k as Y,t as F,e6 as U,dX as Z,dU as q}from"./index-1b26c275.js";function G(n){const e=n.match(/[A-Z]?[a-z]+|[0-9]+/g);return e||[]}function T(n){const e=n.parentNode;return e&&e.nodeType==11&&e instanceof ShadowRoot&&e.host?e.host:e&&e instanceof HTMLElement&&e.assignedSlot?e.assignedSlot.parentNode:e}function X(n){if(window.getComputedStyle(n).display=="none")return;let e=T(n),t=!1;for(;!t;){const l=e.nodeType==1?window.getComputedStyle(e):{};if(l.display=="none")return;if(e==document)t=!0;else if(e!=document.body&&e!=document.documentElement&&l.overflow!="visible")break;e=T(e)}return e}function $(n,e,t){D(()=>window.addEventListener(n,e,t)),B(()=>window.removeEventListener(n,e,t))}function J(n,e,t,l){let o;D(()=>{o=new IntersectionObserver(([i])=>{e(i)},{...t,root:l?X(n.value):null}),n.value&&o.observe(n.value)}),B(()=>{o.unobserve(n.value),o.disconnect()})}function K(n){const e=b(["",""]);let t=0;return J(n,l=>{const{left:o,right:i,top:a,bottom:c}=l.intersectionRect,{left:r,right:f,top:p,bottom:d}=l.rootBounds;if(!(l.time-t<100)){if(t=l.time,l.intersectionRatio==1||l.intersectionRatio==0){e.value[0]="",e.value[1]="";return}o<=r&&i>=f||o==0&&i==0?e.value[0]="":o<=r?e.value[0]="left":i>=f?e.value[0]="right":e.value[0]="",c>=d&&a<=p||a==0&&c==0?e.value[1]="":c>=d?e.value[1]="bottom":a<=p?e.value[1]="top":e.value[1]=""}},{threshold:[0,.25,.5,.75,1]},!0),e}function Q(n,e){const t=K(n),l=G(e),o=z([...l]);return w(t,()=>{switch(l[0]){case"top":case"bottom":t.value[1]=="top"?o[0]="bottom":t.value[1]=="bottom"&&(o[0]="top");break;case"left":case"right":t.value[0]=="left"?o[0]="right":t.value[0]=="right"&&(o[0]="left");break}switch(l[1]){case"Left":case"Right":t.value[0]=="left"?o[1]="Left":t.value[0]=="right"&&(o[1]="Right");break;case"Top":case"Bottom":t.value[1]=="top"?o[1]="Top":t.value[1]=="bottom"&&(o[1]="Bottom");break}},{deep:!0,immediate:!0}),o}function W(){const n=H();return M((t,l)=>()=>{const o=n.default?n.default():[C("span",{},"tooltip")];return o.length>1&&console.error(new Error("Component can only have one root element, but you have used multiple root elements")),o[0]=C(o[0],{...t,...l.attrs}),o},{inheritAttrs:!1})}const ee=M({name:"YkTooltip",__name:"tooltip",props:{title:{default:"hello tooltip"},placement:{default:"top"},trigger:{default:"hover"},open:{type:Boolean,default:!1},closeDelay:{default:300},openDelay:{default:0},autoAdjustOverflow:{type:Boolean,default:!1},overlayStyle:{default:()=>({})},overlayClassName:{},zIndex:{},destroyTooltipOnHide:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0}},emits:["update:open","openChange"],setup(n,{emit:e}){const t=n,l=I("tooltip"),o=b(),i=W(),a=b(t.open);w(a,s=>e("update:open",s)),w(()=>t.open,s=>a.value=s);const c=(()=>{let s;return function(u,x){clearTimeout(s),!(t.trigger==="none"||a.value===u)&&(s=setTimeout(()=>{a.value=u,e("openChange",a.value)},x))}})();function r(){c(!0,t.openDelay)}function f(){c(!1,t.closeDelay)}function p(){(t.trigger==="hover"||t.trigger.includes("hover"))&&r()}function d(){(t.trigger==="hover"||t.trigger.includes("hover"))&&f()}function N(){(t.trigger==="click"||t.trigger.includes("click"))&&(a.value?f():r())}function E(){(t.trigger==="contextMenu"||t.trigger.includes("contextMenu"))&&r()}function L(){(t.trigger==="focus"||t.trigger.includes("focus"))&&r()}$("click",()=>{a.value&&f()});const O=Q(o,t.placement),R=V(()=>{const{autoAdjustOverflow:s,overlayClassName:u}=t;return[...l("content",{[s?O.join(""):t.placement]:!0}),u||""]});return(s,u)=>(v(),m("div",{class:g(y(l)())},[k(Z,{name:"show"},{default:_(()=>[s.destroyTooltipOnHide&&!a.value?S("",!0):A((v(),m("div",{key:0,ref_key:"tooltip",ref:o,class:g(R.value),style:j([s.overlayStyle,{zIndex:s.zIndex}]),onClick:u[0]||(u[0]=h(()=>{},["stop"])),onMouseenter:r,onMouseleave:d},[s.arrow?(v(),m("div",{key:0,class:g(y(l)("arrow"))},null,2)):S("",!0),P(s.$slots,"content",{},()=>[Y(F(s.title),1)])],38)),[[U,a.value]])]),_:3}),k(y(i),{onFocus:L,onMouseenter:p,onMouseleave:d,onClick:h(N,["stop"]),onContextmenu:h(E,["prevent"])},null,8,["onClick","onContextmenu"])],2))}}),te=q(ee),ne=te;export{ne as _,W as u};
