import{d as G,r as w,ee as j,c as r,dU as I,o as h,b as S,e as g,n as V,dH as _,t as F,dS as K,dT as L,eb as N,p as T,e5 as U,f as A,w as D,F as Y,h as E,dx as C,j as H,dG as O,dy as P,dL as M}from"./index-6e54309a.js";import{u as q}from"./use-form-item-0a29411b.js";const R=Symbol("checkboxGroupContextKey"),z=a=>typeof a=="boolean"?a:!!a.toString(),B=a=>Array.isArray(a),J=a=>typeof a>"u",Q=a=>{if(typeof a=="number")return a;switch(a){case"s":return 4;case"m":return 8;case"l":return 16;case"xl":return 24;default:return 16}},W=a=>a=="vertical"?"column":"row";const X=["disabled","checked"],d="yk-checkbox",Z=G({name:"YkCheckbox",__name:"checkbox",props:{defaultChecked:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean},value:{}},emits:["change","update:checked"],setup(a,{emit:x}){const t=a,l=x,f=w(),n=j(R,void 0),v=r(()=>!!n),i=w(t.defaultChecked),u=r(()=>{const s=t.checked??i.value;return v.value?n==null?void 0:n.calcVal:s}),p=r(()=>v.value&&B(u.value)?u.value.includes(t.value):z(u.value)),c=r(()=>(n==null?void 0:n.disabled)||t.disabled||!i.value&&(n==null?void 0:n.isMax)),k=s=>{const{checked:m}=s.target;i.value=m;let b;if(v.value&&B(u.value)){const e=new Set(u.value);m?e.add(t.value??!0):e.delete(t.value??!0),b=Array.from(e),n==null||n.handleChange(b)}else l("update:checked",m),l("change",m)};I(()=>t.checked,s=>{i.value=J(s)?!1:z(s),f.value&&(f.value.checked=i.value)});const $=s=>{s.stopPropagation()},y=r(()=>({[`${d}-wrap`]:!0,[`${d}--active`]:p.value&&!t.indeterminate,[`${d}--normal`]:!p.value&&!c.value&&!t.indeterminate,[`${d}--indeterminate`]:t.indeterminate,"indeterminate--checked":t.indeterminate,"yk-disabled":c.value,[`${d}--common`]:!t.indeterminate,"yk-show-shadow":p.value||t.indeterminate}));return(s,m)=>(h(),S("label",{class:V([d,c.value&&`${d}--disabled`])},[g("input",{ref_key:"checkboxRef",ref:f,type:"checkbox",class:V([`${d}-target`]),disabled:c.value,checked:p.value,onChange:k,onClick:$},null,42,X),g("div",{class:V(y.value)},null,2),g("div",null,[_(s.$slots,"default",{},()=>[g("span",null,F(s.value),1)])])],2))}}),ee=G({name:"YkCheckboxGroup",__name:"checkbox-group",props:{modelValue:{},defaultValue:{default:()=>[]},disabled:{type:Boolean,default:!1},max:{},tag:{default:"div"},direction:{default:"horizontal"},options:{default:()=>[]},gap:{default:"l"},size:{default:"l"}},emits:["change","update:modelValue"],setup(a,{emit:x}){const t=K("checkbox-group"),l=a,{size:f,disabled:n}=L(l),{mergedSize:v,mergedDisabled:i}=q({size:f,disabled:n}),u=x,p=N(),c=w(l.defaultValue),k=r(()=>B(l.modelValue)?l.modelValue:c.value),$=e=>{c.value=e,u("update:modelValue",e),u("change",e)},y=r(()=>l.options.map(e=>typeof e=="number"||typeof e=="string"?{value:e,label:e}:e)),s=r(()=>l.max===void 0?!1:k.value.length>=l.max),m=r(()=>Array.isArray(l.gap)?{rowGap:`${l.gap[1]}px`,columnGap:`${l.gap[0]}px`}:{gap:`${Q(l.gap)}px`}),b=r(()=>({flexDirection:W(l.direction),...m.value}));return T(R,U({name:"YkCheckboxGroup",calcVal:k,disabled:i,handleChange:$,isMax:s})),(e,te)=>(h(),A(P(e.tag),{class:V(C(t)([e.direction,C(v)])),style:O(b.value)},{default:D(()=>[y.value.length?(h(!0),S(Y,{key:0},E(y.value,o=>(h(),A(C(ae),{key:o.value,checked:c.value.includes(o.value),value:o.value,disabled:o.disabled,indeterminate:o.indeterminate},{default:D(()=>[C(p).label?_(e.$slots,"label",{key:0,data:o}):(h(),S(Y,{key:1},[H(F((o==null?void 0:o.label)??o.value),1)],64))]),_:2},1032,["checked","value","disabled","indeterminate"]))),128)):_(e.$slots,"default",{key:1})]),_:3},8,["class","style"]))}}),ae=M(Z),se=M(ee);export{ae as Y,se as a};
