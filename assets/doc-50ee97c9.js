import{d as v,dS as ae,en as S,c as F,r as i,dC as ne,dU as oe,dD as se,eW as re,o as p,b as g,dG as j,n as b,dx as f,t as G,g as R,e,i as c,et as ue,dL as ce,f as A,a as L,w as u,j as m}from"./index-2e6203f3.js";const y=s=>Number(s.replace("px","")),de=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","white-space","overflow-wrap","width"],ie=s=>{const a={};return de.forEach(r=>{a[r]=s.getPropertyValue(r)}),a},pe=s=>{const a=y(s.getPropertyValue("padding-top")),r=y(s.getPropertyValue("padding-bottom")),t=y(s.getPropertyValue("border-width"));return{pt:a,pb:r,bw:t}},me=["value","placeholder","disabled"],_e={key:1,class:"word-limit"},he=v({name:"YkTextArea",__name:"text-area",props:{disabled:{type:Boolean},modelValue:{},clearable:{type:Boolean},placeholder:{},maxLength:{default:0},showWordLimit:{type:Boolean},autoSize:{}},emits:["update:modelValue","input","change","clear","focus","blur"],setup(s,{emit:a}){const r=ae("text-area"),t=s,n=S(),d=S(),$=S(),_=a,h=F(()=>t.modelValue),D=i(!1),q=l=>{D.value=!0,_("focus",l)},J=l=>{D.value=!1,_("blur",l)},K=F(()=>t.clearable&&h.value),Q=()=>{_("clear",""),P(""),_("update:modelValue","")},P=l=>{t.modelValue!==l&&!D.value&&_("change",l)},X=F(()=>t.showWordLimit?`${h.value?h.value.toString().length:0}/${t.maxLength}`:""),E=i(!1),w=l=>{const{value:o}=l.target;l.type==="compositionend"?(E.value=!1,H(o)):E.value=!0},H=l=>{let o=l;t.maxLength&&l.length>t.maxLength&&(o=l.slice(0,Math.max(0,t.maxLength)),n.value.value=o),P(o),_("input",o),_("update:modelValue",o)},Z=async l=>{if(E.value)return;const{value:o}=l.target;H(o)},N=i(),k=i(0);let x;const T=i();ne(()=>{x=getComputedStyle(n.value,null),t.autoSize&&(T.value=ie(x)),k.value=y(x.getPropertyValue("line-height")),V()}),oe(()=>t.modelValue,()=>V());const V=async()=>{var M,O;if(!t.autoSize)return;await se();let l,o,U="hidden";const I=(M=t.autoSize)==null?void 0:M.minRows,W=(O=t.autoSize)==null?void 0:O.maxRows,{pt:ee,pb:te,bw:le}=pe(x),Y=ee+te+le,z=$.value.offsetHeight;I&&(l=k.value*I+Y),W&&(o=k.value*W+Y);let B=z??0;l&&z<l&&(B=l),o&&z>o&&(B=o,U="auto"),N.value={height:`${B}px`,resize:t.autoSize?"none":"vertical",overflow:U}};return re(n,V),(l,o)=>(p(),g("div",{ref_key:"containerRef",ref:d,class:b(f(r)({focus:D.value},{disabled:t.disabled}))},[t.autoSize?(p(),g("div",{key:0,ref_key:"contentRef",ref:$,style:j(T.value),class:b([f(r)("content")])},G(h.value),7)):R("",!0),e("textarea",{ref_key:"textAreaRef",ref:n,value:h.value,rows:"5",cols:"",placeholder:t.placeholder,class:b([f(r)("inner",{autoSize:!!(t!=null&&t.autoSize)})]),disabled:t.disabled,style:j(N.value),onFocus:q,onBlur:J,onInput:Z,onCompositionstart:w,onCompositionupdate:w,onCompositionend:w},null,46,me),t.showWordLimit?(p(),g("span",_e,G(X.value),1)):R("",!0),K.value&&!l.disabled?(p(),g("button",{key:2,"aria-label":"清空内容",class:b([f(r)("button")]),onClick:Q},[c(f(ue))],2)):R("",!0)],2))}}),fe=ce(he),C=fe;const ve=v({__name:"text-area-primary",setup(s){const a=i("");return(r,t)=>{const n=C;return p(),A(n,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),clearable:"",placeholder:"请输入..."},null,8,["modelValue"])}}}),Ae=v({__name:"text-area-status",setup(s){const a=i("");return(r,t)=>{const n=C;return p(),A(n,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),clearable:"",placeholder:"请输入...",disabled:""},null,8,["modelValue"])}}}),De=v({__name:"text-area-limit",setup(s){const a=i("");return(r,t)=>{const n=C;return p(),A(n,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),clearable:"",placeholder:"请输入...","show-word-limit":"","max-length":10},null,8,["modelValue"])}}}),xe=v({__name:"text-area-auto",setup(s){const a=i("");return(r,t)=>{const n=C;return p(),A(n,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),clearable:"",placeholder:"请输入...","auto-size":{minRows:4,maxRows:10}},null,8,["modelValue"])}}}),ge=e("p",null,"可以用于多行输入",-1),be=e("p",null,"文本域可以设置禁用状态。",-1),ye=e("p",null,[m("设置 "),e("code",null,"max-length"),m(" 可以限制最大字数，配合 "),e("code",null,"show-word-limit"),m(" 可以显示字数统计。")],-1),Ce=e("p",null,[m("通过设置 "),e("code",null,"auto-size"),m("，可以让文本框自适应输入内容。")],-1),Ee=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"modelValue"),e("td",null,"绑定值"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"clearable"),e("td",null,"是否可置空"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"placeholder"),e("td",null,"占位文字"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"maxLength"),e("td",null,"最大限制长度"),e("td",null,"number"),e("td",null,"0")]),e("tr",null,[e("td",null,"showWordLimit"),e("td",null,"是否显示字数统计"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"autoSize"),e("td",null,"高度自适应配置"),e("td",null,"{minRows:number,maxRows:number}"),e("td",null,"-")])])])],-1),we=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"事件"),e("th",null,"描述")])]),e("tbody",null,[e("tr",null,[e("td",null,"input"),e("td",null,"文本域聚焦时触发")]),e("tr",null,[e("td",null,"change"),e("td",null,"值改变时触发")]),e("tr",null,[e("td",null,"clear"),e("td",null,"置空时触发")]),e("tr",null,[e("td",null,"focus"),e("td",null,"聚焦时触发")]),e("tr",null,[e("td",null,"blur"),e("td",null,"失焦时触发")])])])],-1),Ve={__name:"doc",setup(s){return(a,r)=>{const t=L("yk-title"),n=L("yk-snippet"),d=L("DocPage");return p(),A(d,null,{default:u(()=>[c(t,{level:2,id:"YkTextArea-文本域"},{default:u(()=>[m("YkTextArea 文本域")]),_:1}),c(n,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-text-area%20v-model%3D%22val%22%20clearable%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%3E%3C%2Fyk-text-area%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20val%20%3D%20ref('')%0A%3C%2Fscript%3E%0A"},{demo:u(()=>[c(ve)]),desc:u(()=>[ge]),_:1}),c(n,{title:"文本域状态",code:"%3Ctemplate%3E%0D%0A%20%20%3Cyk-text-area%0D%0A%20%20%20%20v-model%3D%22val%22%0D%0A%20%20%20%20clearable%0D%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0D%0A%20%20%20%20disabled%0D%0A%20%20%3E%3C%2Fyk-text-area%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0D%0Aconst%20val%20%3D%20ref('')%0D%0A%3C%2Fscript%3E%0D%0A"},{demo:u(()=>[c(Ae)]),desc:u(()=>[be]),_:1}),c(n,{title:"字数统计",code:"%3Ctemplate%3E%0D%0A%20%20%3Cyk-text-area%0D%0A%20%20%20%20v-model%3D%22val%22%0D%0A%20%20%20%20clearable%0D%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0D%0A%20%20%20%20show-word-limit%0D%0A%20%20%20%20%3Amax-length%3D%2210%22%0D%0A%20%20%3E%3C%2Fyk-text-area%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0D%0Aconst%20val%20%3D%20ref('')%0D%0A%3C%2Fscript%3E%0D%0A"},{demo:u(()=>[c(De)]),desc:u(()=>[ye]),_:1}),c(n,{title:"高度自适应",code:"%3Ctemplate%3E%0D%0A%20%20%3Cyk-text-area%0D%0A%20%20%20%20v-model%3D%22val%22%0D%0A%20%20%20%20clearable%0D%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0D%0A%20%20%20%20%3Aauto-size%3D%22%7B%0D%0A%20%20%20%20%20%20minRows%3A%204%2C%0D%0A%20%20%20%20%20%20maxRows%3A%2010%2C%0D%0A%20%20%20%20%7D%22%0D%0A%20%20%3E%3C%2Fyk-text-area%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0D%0Aconst%20val%20%3D%20ref('')%0D%0A%3C%2Fscript%3E%0D%0A"},{demo:u(()=>[c(xe)]),desc:u(()=>[Ce]),_:1}),c(t,{level:3,id:"API"},{default:u(()=>[m("API")]),_:1}),c(t,{level:4,id:"textarea-属性"},{default:u(()=>[m("textarea 属性")]),_:1}),Ee,c(t,{level:4,id:"textarea-事件"},{default:u(()=>[m("textarea 事件")]),_:1}),we]),_:1})}}};export{Ve as default};
