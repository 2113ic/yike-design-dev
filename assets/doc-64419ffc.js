import{d as x,r as k,dS as P,dC as Y,c as f,o as r,b as D,F as U,h as G,n as y,dG as A,dF as J,dJ as T,e,f as i,dy as z,dx as q,dL as K,m as p,w as o,i as n,D as B,dU as O,a as b,j as s}from"./index-da6cc329.js";const Q=["onAnimationend"],W=["onMouseenter","onClick"],X=x({name:"YkRate",__name:"rate",props:{count:{default:5},modelValue:{default:0},defaultValue:{default:0},allowHalf:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},grading:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{default:""},icon:{default:"IconStarFill"},size:{default:"l"}},emits:["update:modelValue","change","hover-change"],setup(_,{emit:u}){const l=_,c=k(0),a=k(0),m=k(!1),E=P("rate");Y(()=>{l.defaultValue&&(c.value=Number(l.defaultValue),a.value=Number(l.defaultValue)),l.modelValue&&(c.value=Number(l.modelValue),a.value=Number(l.modelValue))}),f(()=>({"yk-rate-disabled":l.disabled,"yk-rate-readonly":l.readonly}));const g=f(()=>Number(l.count)),F=f(()=>l.disabled||l.readonly),R=f(()=>t=>m.value?{animationDelay:`${50*t}ms`}:void 0),H=f(()=>t=>[" yk-rate-item",m.value&&a.value>t?"yk-rate-item--animation":""].join(" ")),w=f(()=>`yk-rate-icon-${l.size}`),L=f(()=>t=>["yk-rate-half",c.value+.5===t?"yk-rate-half--select":""].join(" ")),I=f(()=>["yk-rate-half-icon",w.value].join(" ")),M=f(()=>t=>["yk-rate-icon",c.value>=t?"yk-rate-icon--select":"",w.value].join(" ")),N=()=>{c.value=a.value},$=t=>{F.value||(c.value=t,u("hover-change",t))},V=t=>{if(!F.value){if(m.value=!0,l.allowClear&&a.value===t){a.value=0;return}a.value=t,j(t)}},S=t=>{m.value&&t==Math.ceil(a.value)-1&&(m.value=!1)},j=t=>{l.modelValue&&(u("update:modelValue",t),u("change",t))};return(t,h)=>(r(),D("div",{class:y(q(E)([t.size],{disabled:t.disabled,readonly:t.readonly})),onMouseleave:h[0]||(h[0]=d=>N())},[(r(!0),D(U,null,G(g.value,d=>(r(),D("div",{key:d,class:y(H.value(d)),style:A(R.value(d)),onAnimationend:C=>S(d)},[J(e("div",{class:y(L.value(d)),style:A({color:t.color}),onMouseenter:C=>$(d-.5),onClick:C=>V(d-.5)},[(r(),i(z(t.icon),{class:y(I.value),style:A({color:t.color})},null,8,["class","style"]))],46,W),[[T,t.allowHalf]]),(r(),i(z(t.icon),{class:y(M.value(d)),style:A({color:c.value>=d&&t.color?t.color:""}),onMouseenter:C=>$(d),onClick:C=>V(d)},null,40,["class","style","onMouseenter","onClick"]))],46,Q))),128))],34))}}),Z=K(X),v=Z;const ee={};function le(_,u){const l=v;return r(),i(l)}const te=p(ee,[["render",le]]),ne={};function ae(_,u){const l=v,c=B;return r(),i(c,{dir:"vertical"},{default:o(()=>[n(l,{size:"s"}),n(l,{size:"m"}),n(l,{size:"l"}),n(l,{size:"xl"})]),_:1})}const oe=p(ne,[["render",ae]]),ce={};function se(_,u){const l=v;return r(),i(l,{"allow-half":""})}const ue=p(ce,[["render",se]]),re={};function de(_,u){const l=v,c=B;return r(),i(c,{dir:"vertical"},{default:o(()=>[n(l,{color:"red"}),n(l,{color:"green"})]),_:1})}const ie=p(re,[["render",de]]),_e={};function me(_,u){const l=v;return r(),i(l,{"default-value":"3",readonly:""})}const fe=p(_e,[["render",me]]),ve={};function pe(_,u){const l=v;return r(),i(l,{"allow-clear":""})}const he=p(ve,[["render",pe]]),ye={};function Ce(_,u){const l=v;return r(),i(l,{count:"10"})}const Ae=p(ye,[["render",Ce]]),ke=e("div",null,"哈",-1),Ee=x({__name:"rate-all",setup(_){const u=k(2);O(()=>u.value,a=>{console.log("value-change",a)});const l=a=>{console.log("handleHoverChange",a)},c=a=>{console.log("change",a)};return(a,m)=>{const E=v;return r(),i(E,{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=g=>u.value=g),count:"10","allow-clear":"","allow-half":"",color:"#f56c6c",icon:"IconHeartFill",onHoverChange:l,onChange:c},{character:o(()=>[ke]),_:1},8,["modelValue"])}}}),ge=e("p",null,"评分组件基本用法。",-1),De=e("p",null,[s("按钮分为："),e("code",null,"s"),s("、"),e("code",null,"m"),s("、"),e("code",null,"l"),s("、"),e("code",null,"xl"),s(" 四种尺寸。高度分别为："),e("code",null,"14px"),s("、"),e("code",null,"18px"),s("、"),e("code",null,"22px"),s("、"),e("code",null,"26px"),s("。默认尺寸为 "),e("code",null,"l"),s("。")],-1),be=e("p",null,"指定 allow-half 来开启半选。",-1),Fe=e("p",null,"通过 color 可以自定义颜色。另外可以通过对象形式自定义不同分值时的颜色。",-1),we=e("p",null,"通过设置 readonly 属性让评分组件为只读状态。",-1),$e=e("p",null,"通过设置 allow-clear 来允许清除评分。",-1),Ve=e("p",null,"通过指定 count 来指定任意长度的评分组件。",-1),ze=e("p",null,null,-1),xe=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"count"),e("td",null,"评分的总数"),e("td",null,"string ｜ number"),e("td",null,"5")]),e("tr",null,[e("td",null,"size"),e("td",null,"尺寸"),e("td",null,[e("code",null,"s"),s("｜"),e("code",null,"m"),s("｜"),e("code",null,"l"),s("｜"),e("code",null,"xl")]),e("td",null,[e("code",null,"'l'")])]),e("tr",null,[e("td",null,"model-value (v-model)"),e("td",null,"绑定值"),e("td",null,"string ｜ number"),e("td",null,"-")]),e("tr",null,[e("td",null,"default-value"),e("td",null,"默认值"),e("td",null,"string ｜ number"),e("td",null,"0")]),e("tr",null,[e("td",null,"allow-half"),e("td",null,"是否允许半选"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"allow-clear"),e("td",null,"是否允许清除"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"readonly"),e("td",null,"是否为只读状态"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"disabled"),e("td",null,"是否禁用"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"color"),e("td",null,"颜色"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"icon"),e("td",null,"Icon 组件"),e("td",null,"string"),e("td",null,"'yike-wujiaoxing'")])])])],-1),Be=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"事件名"),e("th",null,"描述"),e("th",null,"参数")])]),e("tbody",null,[e("tr",null,[e("td",null,"change"),e("td",null,"值改变时触发"),e("td",null,"value: number")]),e("tr",null,[e("td",null,"hover-change"),e("td",null,"鼠标移动到数值上时触发"),e("td",null,"value: number")])])])],-1),He={__name:"doc",setup(_){return(u,l)=>{const c=b("yk-title"),a=b("yk-snippet"),m=b("DocPage");return r(),i(m,null,{default:o(()=>[n(c,{level:2,id:"YkRate-评分"},{default:o(()=>[s("YkRate 评分")]),_:1}),n(a,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(te)]),desc:o(()=>[ge]),_:1}),n(a,{title:"尺寸 size",code:"%3Ctemplate%3E%0A%20%20%3Cyk-space%20dir%3D%22vertical%22%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22s%22%20%2F%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22m%22%20%2F%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22l%22%20%2F%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22xl%22%20%2F%3E%0A%20%20%3C%2Fyk-space%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(oe)]),desc:o(()=>[De]),_:1}),n(a,{title:"半选",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20allow-half%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(ue)]),desc:o(()=>[be]),_:1}),n(a,{title:"自定义颜色",code:"%3Ctemplate%3E%0A%20%20%3Cyk-space%20dir%3D%22vertical%22%3E%0A%20%20%20%20%3Cyk-rate%20color%3D%22red%22%3E%3C%2Fyk-rate%3E%0A%20%20%20%20%3Cyk-rate%20color%3D%22green%22%3E%3C%2Fyk-rate%3E%0A%20%20%3C%2Fyk-space%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(ie)]),desc:o(()=>[Fe]),_:1}),n(a,{title:"只读模式",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20default-value%3D%223%22%20readonly%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(fe)]),desc:o(()=>[we]),_:1}),n(a,{title:"支持清除",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20allow-clear%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(he)]),desc:o(()=>[$e]),_:1}),n(a,{title:"任意长度的评分",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20count%3D%2210%22%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:o(()=>[n(Ae)]),desc:o(()=>[Ve]),_:1}),n(a,{title:"全部功能",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%0A%20%20%20%20v-model%3D%22value%22%0A%20%20%20%20count%3D%2210%22%0A%20%20%20%20allow-clear%0A%20%20%20%20allow-half%0A%20%20%20%20color%3D%22%23f56c6c%22%0A%20%20%20%20icon%3D%22IconHeartFill%22%0A%20%20%20%20%40hover-change%3D%22handleHoverChange%22%0A%20%20%20%20%40change%3D%22change%22%0A%20%20%3E%0A%20%20%20%20%3Ctemplate%20%23character%3E%0A%20%20%20%20%20%20%3Cdiv%3E%E5%93%88%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2Fyk-rate%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%2C%20watch%20%7D%20from%20'vue'%0Aconst%20value%20%3D%20ref(2)%0Awatch(%0A%20%20()%20%3D%3E%20value.value%2C%0A%20%20(val)%20%3D%3E%20%7B%0A%20%20%20%20console.log('value-change'%2C%20val)%0A%20%20%7D%2C%0A)%0Aconst%20handleHoverChange%20%3D%20(n)%20%3D%3E%20%7B%0A%20%20console.log('handleHoverChange'%2C%20n)%0A%7D%0Aconst%20change%20%3D%20(n)%20%3D%3E%20%7B%0A%20%20console.log('change'%2C%20n)%0A%7D%0A%3C%2Fscript%3E%0A"},{demo:o(()=>[n(Ee)]),desc:o(()=>[ze]),_:1}),n(c,{level:3,id:"API"},{default:o(()=>[s("API")]),_:1}),xe,n(c,{level:3,id:"Events"},{default:o(()=>[s("Events")]),_:1}),Be]),_:1})}}};export{He as default};
