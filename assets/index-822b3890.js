import{dH as B,eI as D,dU as x,dG as w,e3 as z,r as b,d as M,ei as C,dE as V,c as _,o as v,b as m,e as k,w as A,e5 as H,n as g,dZ as j,dI as h,dr as y,g as S,d_ as P,k as Y,t as U,e7 as Z,dY as F,dV as G}from"./index-95fa2659.js";function $(n){const e=n.match(/[A-Z]?[a-z]+|[0-9]+/g);return e||[]}function T(n){const e=n.parentNode;return e&&e.nodeType==11&&e instanceof ShadowRoot&&e.host?e.host:e&&e instanceof HTMLElement&&e.assignedSlot?e.assignedSlot.parentNode:e}function q(n){if(window.getComputedStyle(n).display=="none")return;let e=T(n),t=!1;for(;!t;){const l=e.nodeType==1?window.getComputedStyle(e):{};if(l.display=="none")return;if(e==document)t=!0;else if(e!=document.body&&e!=document.documentElement&&l.overflow!="visible")break;e=T(e)}return e}function J(n,e,t){B(()=>window.addEventListener(n,e,t)),D(()=>window.removeEventListener(n,e,t))}function K(n,e,t,l){let o;B(()=>{o=new IntersectionObserver(([i])=>{e(i)},{...t,root:l?q(n.value):null}),n.value&&o.observe(n.value)}),D(()=>{o.unobserve(n.value),o.disconnect()})}function Q(n){const e=b(["",""]);let t=0;return K(n,l=>{const{left:o,right:i,top:a,bottom:c}=l.intersectionRect,{left:r,right:f,top:p,bottom:d}=l.rootBounds;if(!(l.time-t<100)){if(t=l.time,l.intersectionRatio==1||l.intersectionRatio==0){e.value[0]="",e.value[1]="";return}o<=r&&i>=f||o==0&&i==0?e.value[0]="":o<=r?e.value[0]="left":i>=f?e.value[0]="right":e.value[0]="",c>=d&&a<=p||a==0&&c==0?e.value[1]="":c>=d?e.value[1]="bottom":a<=p?e.value[1]="top":e.value[1]=""}},{threshold:[0,.25,.5,.75,1]},!0),e}function W(n,e){const t=Q(n),l=$(e),o=x([...l]);return w(t,()=>{switch(l[0]){case"top":case"bottom":t.value[1]=="top"?o[0]="bottom":t.value[1]=="bottom"&&(o[0]="top");break;case"left":case"right":t.value[0]=="left"?o[0]="right":t.value[0]=="right"&&(o[0]="left");break}switch(l[1]){case"Left":case"Right":t.value[0]=="left"?o[1]="Left":t.value[0]=="right"&&(o[1]="Right");break;case"Top":case"Bottom":t.value[1]=="top"?o[1]="Top":t.value[1]=="bottom"&&(o[1]="Bottom");break}},{deep:!0,immediate:!0}),o}function X(){const n=z();return M((t,l)=>()=>{const o=n.default?n.default():[C("span",{},"tooltip")];return o.length>1&&console.error(new Error("Component can only have one root element, but you have used multiple root elements")),o[0]=C(o[0],{...t,...l.attrs}),o},{inheritAttrs:!1})}const ee=M({name:"YkTooltip",__name:"tooltip",props:{title:{default:"hello tooltip"},placement:{default:"top"},trigger:{default:"hover"},open:{type:Boolean,default:!1},closeDelay:{default:300},openDelay:{default:0},autoAdjustOverflow:{type:Boolean,default:!1},overlayStyle:{default:()=>({})},overlayClassName:{},zIndex:{},destroyTooltipOnHide:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0}},emits:["update:open","openChange"],setup(n,{emit:e}){const t=n,l=V("tooltip"),o=b(),i=X(),a=b(t.open);w(a,s=>e("update:open",s)),w(()=>t.open,s=>a.value=s);const c=(()=>{let s;return function(u,R){clearTimeout(s),!(t.trigger==="none"||a.value===u)&&(s=setTimeout(()=>{a.value=u,e("openChange",a.value)},R))}})();function r(){c(!0,t.openDelay)}function f(){c(!1,t.closeDelay)}function p(){(t.trigger==="hover"||t.trigger.includes("hover"))&&r()}function d(){(t.trigger==="hover"||t.trigger.includes("hover"))&&f()}function N(){(t.trigger==="click"||t.trigger.includes("click"))&&(a.value?f():r())}function E(){(t.trigger==="contextMenu"||t.trigger.includes("contextMenu"))&&r()}function I(){(t.trigger==="focus"||t.trigger.includes("focus"))&&r()}J("click",()=>{a.value&&f()});const L=W(o,t.placement),O=_(()=>{const{autoAdjustOverflow:s,overlayClassName:u}=t;return[...l("content",{[s?L.join(""):t.placement]:!0}),u||""]});return(s,u)=>(v(),m("div",{class:g(y(l)())},[k(F,{name:"show"},{default:A(()=>[s.destroyTooltipOnHide&&!a.value?S("",!0):H((v(),m("div",{key:0,ref_key:"tooltip",ref:o,class:g(O.value),style:j([s.overlayStyle,{zIndex:s.zIndex}]),onClick:u[0]||(u[0]=h(()=>{},["stop"])),onMouseenter:r,onMouseleave:d},[s.arrow?(v(),m("div",{key:0,class:g(y(l)("arrow"))},null,2)):S("",!0),P(s.$slots,"content",{},()=>[Y(U(s.title),1)])],38)),[[Z,a.value]])]),_:3}),k(y(i),{onFocus:I,onMouseenter:p,onMouseleave:d,onClick:h(N,["stop"]),onContextmenu:h(E,["prevent"])},null,8,["onClick","onContextmenu"])],2))}}),te=G(ee),ne=te;export{ne as _,X as u};
