import{d as f,dE as le,eg as B,c as S,r as i,dH as ae,dG as ne,dX as oe,eQ as se,o as p,b as x,dZ as O,n as g,dr as h,t as j,g as F,j as e,e as c,en as re,dV as ue,f as v,a as R,w as u,k as m}from"./index-38650442.js";const b=r=>Number(r.replace("px","")),ce=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","white-space","overflow-wrap","width"],de=r=>{const l={};return ce.forEach(t=>{l[t]=r.getPropertyValue(t)}),l},ie=r=>{const l=b(r.getPropertyValue("padding-top")),t=b(r.getPropertyValue("padding-bottom")),a=b(r.getPropertyValue("border-width"));return{pt:l,pb:t,bw:a}},pe=["value","placeholder","disabled"],me={key:1,class:"word-limit"},_e=f({name:"YkTextArea",__name:"text-area",props:{disabled:{type:Boolean},modelValue:{},clearable:{type:Boolean},placeholder:{},maxLength:{default:0},showWordLimit:{type:Boolean},autoSize:{}},emits:["update:modelValue","input","change","clear","focus","blur"],setup(r,{emit:l}){const t=r,a=le("text-area"),o=B(),d=B(),L=B(),_=S(()=>t.modelValue),A=i(!1),G=n=>{A.value=!0,l("focus",n)},Q=n=>{A.value=!1,l("blur",n)},X=S(()=>t.clearable&&_.value),Z=()=>{l("clear",""),$(""),l("update:modelValue","")},$=n=>{t.modelValue!==n&&!A.value&&l("change",n)},q=S(()=>t.showWordLimit?`${_.value?_.value.toString().length:0}/${t.maxLength}`:""),E=i(!1),C=n=>{const{value:s}=n.target;n.type==="compositionend"?(E.value=!1,P(s)):E.value=!0},P=n=>{let s=n;t.maxLength&&n.length>t.maxLength&&(s=n.slice(0,Math.max(0,t.maxLength)),o.value.value=s),$(s),l("input",s),l("update:modelValue",s)},J=async n=>{if(E.value)return;const{value:s}=n.target;P(s)},H=i(),w=i(0);let D;const N=i();ae(()=>{D=getComputedStyle(o.value,null),t.autoSize&&(N.value=de(D)),w.value=b(D.getPropertyValue("line-height")),k()}),ne(()=>t.modelValue,()=>k());const k=async()=>{var Y,M;if(!t.autoSize)return;await oe();let n,s,T="hidden";const I=(Y=t.autoSize)==null?void 0:Y.minRows,U=(M=t.autoSize)==null?void 0:M.maxRows,{pt:K,pb:ee,bw:te}=ie(D),W=K+ee+te,V=L.value.offsetHeight;I&&(n=w.value*I+W),U&&(s=w.value*U+W);let z=V??0;n&&V<n&&(z=n),s&&V>s&&(z=s,T="auto"),H.value={height:`${z}px`,resize:t.autoSize?"none":"vertical",overflow:T}};return se(o,k),(n,s)=>(p(),x("div",{ref_key:"containerRef",ref:d,class:g(h(a)({focus:A.value},{disabled:t.disabled}))},[t.autoSize?(p(),x("div",{key:0,ref_key:"contentRef",ref:L,style:O(N.value),class:g([h(a)("content")])},j(_.value),7)):F("",!0),e("textarea",{ref_key:"textAreaRef",ref:o,value:_.value,rows:"5",cols:"",placeholder:t.placeholder,class:g([h(a)("inner",{autoSize:!!(t!=null&&t.autoSize)})]),disabled:t.disabled,style:O(H.value),onFocus:G,onBlur:Q,onInput:J,onCompositionstart:C,onCompositionupdate:C,onCompositionend:C},null,46,pe),t.showWordLimit?(p(),x("span",me,j(q.value),1)):F("",!0),X.value&&!n.disabled?(p(),x("button",{key:2,"aria-label":"清空内容",class:g([h(a)("button")]),onClick:Z},[c(h(re))],2)):F("",!0)],2))}}),he=ue(_e),y=he;const fe=f({__name:"text-area-primary",setup(r){const l=i("");return(t,a)=>{const o=y;return p(),v(o,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value=d),clearable:"",placeholder:"请输入..."},null,8,["modelValue"])}}}),ve=f({__name:"text-area-status",setup(r){const l=i("");return(t,a)=>{const o=y;return p(),v(o,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value=d),clearable:"",placeholder:"请输入...",disabled:""},null,8,["modelValue"])}}}),Ae=f({__name:"text-area-limit",setup(r){const l=i("");return(t,a)=>{const o=y;return p(),v(o,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value=d),clearable:"",placeholder:"请输入...","show-word-limit":"","max-length":10},null,8,["modelValue"])}}}),De=f({__name:"text-area-auto",setup(r){const l=i("");return(t,a)=>{const o=y;return p(),v(o,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value=d),clearable:"",placeholder:"请输入...","auto-size":{minRows:4,maxRows:10}},null,8,["modelValue"])}}}),xe=e("p",null,"可以用于多行输入",-1),ge=e("p",null,"文本域可以设置禁用状态。",-1),be=e("p",null,[m("设置 "),e("code",null,"max-length"),m(" 可以限制最大字数，配合 "),e("code",null,"show-word-limit"),m(" 可以显示字数统计。")],-1),ye=e("p",null,[m("通过设置 "),e("code",null,"auto-size"),m("，可以让文本框自适应输入内容。")],-1),Ee=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"modelValue"),e("td",null,"绑定值"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"clearable"),e("td",null,"是否可置空"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"placeholder"),e("td",null,"占位文字"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"maxLength"),e("td",null,"最大限制长度"),e("td",null,"number"),e("td",null,"0")]),e("tr",null,[e("td",null,"showWordLimit"),e("td",null,"是否显示字数统计"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"autoSize"),e("td",null,"高度自适应配置"),e("td",null,"{minRows:number,maxRows:number}"),e("td",null,"-")])])])],-1),Ce=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"事件"),e("th",null,"描述")])]),e("tbody",null,[e("tr",null,[e("td",null,"input"),e("td",null,"文本域聚焦时触发")]),e("tr",null,[e("td",null,"change"),e("td",null,"值改变时触发")]),e("tr",null,[e("td",null,"clear"),e("td",null,"置空时触发")]),e("tr",null,[e("td",null,"focus"),e("td",null,"聚焦时触发")]),e("tr",null,[e("td",null,"blur"),e("td",null,"失焦时触发")])])])],-1),ke={__name:"doc",setup(r){return(l,t)=>{const a=R("yk-title"),o=R("yk-snippet"),d=R("DocPage");return p(),v(d,null,{default:u(()=>[c(a,{level:2,id:"YkTextArea文本域"},{default:u(()=>[m("YkTextArea 文本域")]),_:1}),c(o,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-text-area%20v-model%3D%22val%22%20clearable%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%3E%3C%2Fyk-text-area%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20val%20%3D%20ref('')%0A%3C%2Fscript%3E%0A"},{demo:u(()=>[c(fe)]),desc:u(()=>[xe]),_:1}),c(o,{title:"文本域状态",code:"%3Ctemplate%3E%0D%0A%20%20%3Cyk-text-area%0D%0A%20%20%20%20v-model%3D%22val%22%0D%0A%20%20%20%20clearable%0D%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0D%0A%20%20%20%20disabled%0D%0A%20%20%3E%3C%2Fyk-text-area%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0D%0Aconst%20val%20%3D%20ref('')%0D%0A%3C%2Fscript%3E%0D%0A"},{demo:u(()=>[c(ve)]),desc:u(()=>[ge]),_:1}),c(o,{title:"字数统计",code:"%3Ctemplate%3E%0D%0A%20%20%3Cyk-text-area%0D%0A%20%20%20%20v-model%3D%22val%22%0D%0A%20%20%20%20clearable%0D%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0D%0A%20%20%20%20show-word-limit%0D%0A%20%20%20%20%3Amax-length%3D%2210%22%0D%0A%20%20%3E%3C%2Fyk-text-area%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0D%0Aconst%20val%20%3D%20ref('')%0D%0A%3C%2Fscript%3E%0D%0A"},{demo:u(()=>[c(Ae)]),desc:u(()=>[be]),_:1}),c(o,{title:"高度自适应",code:"%3Ctemplate%3E%0D%0A%20%20%3Cyk-text-area%0D%0A%20%20%20%20v-model%3D%22val%22%0D%0A%20%20%20%20clearable%0D%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0D%0A%20%20%20%20%3Aauto-size%3D%22%7B%0D%0A%20%20%20%20%20%20minRows%3A%204%2C%0D%0A%20%20%20%20%20%20maxRows%3A%2010%2C%0D%0A%20%20%20%20%7D%22%0D%0A%20%20%3E%3C%2Fyk-text-area%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0D%0Aconst%20val%20%3D%20ref('')%0D%0A%3C%2Fscript%3E%0D%0A"},{demo:u(()=>[c(De)]),desc:u(()=>[ye]),_:1}),c(a,{level:3,id:"API"},{default:u(()=>[m("API")]),_:1}),c(a,{level:4,id:"textarea属性"},{default:u(()=>[m("textarea 属性")]),_:1}),Ee,c(a,{level:4,id:"textarea事件"},{default:u(()=>[m("textarea 事件")]),_:1}),Ce]),_:1})}}};export{ke as default};
